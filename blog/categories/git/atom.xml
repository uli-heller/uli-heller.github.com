<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Thema: Git | Was ich so treibe...]]></title>
  <link href="http://uli-heller.github.com/blog/categories/git/atom.xml" rel="self"/>
  <link href="http://uli-heller.github.com/"/>
  <updated>2014-02-11T08:14:39+01:00</updated>
  <id>http://uli-heller.github.com/</id>
  <author>
    <name><![CDATA[Uli Heller]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[SubGit - Kopplung von Git und Subversion]]></title>
    <link href="http://uli-heller.github.com/blog/2014/02/11/subgit/"/>
    <updated>2014-02-11T08:00:00+01:00</updated>
    <id>http://uli-heller.github.com/blog/2014/02/11/subgit</id>
    <content type="html"><![CDATA[<p>Bislang habe ich immer &ldquo;GitSvn&rdquo; verwendet, wenn ich mit Git auf ein
Subversion-Repository zugreifen wollte. Leider ist GitSvn fehlerhaltig
und in der Handhabung teilweise etwas sperrig. Vor einiger Zeit bin
ich nun über SubGit gestolpert und möchte das heute in der Version
2.0.1 einmal ausprobieren.</p>

<!-- more -->


<h2>Installation</h2>

<p><code>
$ unzip .../subgit-2.0.1.zip
$ export SH="$(pwd)/subgit-2.0.1"
</code></p>

<h2>Git-Projekt aus Subversion-Projekt erzeugen</h2>

<p><code>
$ ${SH}/bin/subgit configure --svn-url https://83.236.132.107/svn/sandbox git/sandbox.git
SubGit version 2.0.1 ('Patrick') build #2706
...
</code></p>

<ul>
<li>Zweigzuordnung: Keine Aktionen notwendig, wenn in Subversion die
Standard-Konventionen (trunk/branches/tags) verwendet werden!</li>
<li>Benutzer und Kennwort: Subversion-Benutzer und -Kennwort muß in
&ldquo;passwd&rdquo; oder &ldquo;config&rdquo; hinterlegt werden!</li>
</ul>


<p>```
$ ${SH}/bin/subgit install git/sandbox.git
SubGit version 2.0.1 (&lsquo;Patrick&rsquo;) build #2706</p>

<p>Translating Subversion revisions to Git commits&hellip;</p>

<pre><code>Subversion revisions translated: 99.
Total time: 85 seconds.
</code></pre>

<p>INSTALLATION SUCCESSFUL</p>

<p>Your copy of SubGit is not registered for repository at &lsquo;&hellip;/git/sandbox.git&rsquo;.
You may use SubGit for evaluation purposes.</p>

<p>For production use, please obtain registration key at <a href="http://www.subgit.com/">http://www.subgit.com/</a> and register SubGit.
Registration is free for Open Source, Educational and Startup projects.
```</p>

<h2>Git-Projekt auschecken</h2>

<p><code>
$ git clone .../git/sandbox.git sandbox
</code></p>

<h2>Projekt bearbeiten</h2>

<p>Mit den üblichen Git-Kommandos!</p>

<h2>Lokalen Git-Commit durchführen</h2>

<p>Beim lokalen Git-Commit wird nur die &ldquo;Kopie&rdquo; im Verzeichnis &ldquo;sandbox&rdquo; aktualisiert!</p>

<p><code>
$ git commit -m "...." .
</code></p>

<h2>Zentralen Git-Commit durchführen</h2>

<p>Beim zentralen Git-Commit wird das zentrale Git-Repository &ldquo;&hellip;/git/sandbox.git&rdquo;
aktualisiert und auch das Subversion-Repository:</p>

<p><code>
$ git push
Counting objects: 4, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (2/2), 234 bytes | 0 bytes/s, done.
Total 2 (delta 1), reused 0 (delta 0)
remote: Synchronizing SVN and Git...
remote:   translating SVN revisions to Git commits...
remote:   translating Git commits to SVN revisions...
remote:     translated commit da5a6078fba40f0686bf1cfd83b0d8c592ee88a1 to revision 100
remote: ... done.
remote: Synchronizing SVN and Git...
remote: ... done.
To /tmp/x/git/sandbox.git
   ea0262b..da5a607  master -&gt; master
</code></p>

<h2>Konflikt mit Subversion</h2>

<p>Hier der Ablauf, wenn man einen Konflikt mit Subversion &ldquo;provoziert&rdquo;. Änderung in Subversion durchführen:</p>

<p><code>
svn/sandbox$ echo ERNIE &gt;&gt;conflict.txt
svn/sandbox$ svn commit -m "Added ERNIE"
</code></p>

<p>Nun die gleiche Datei in Git ändern:</p>

<p><code>
git/sandbox$ echo BERT &gt;&gt;conflict.txt
git/sandbox$ git commit -m "Added BERT"
git/sandbox$ git push
To /tmp/x/git/sandbox.git
 ! [rejected]        master -&gt; master (fetch first)
...
</code></p>

<h2>Fazit</h2>

<p>SubGit sieht schonmal sehr vielversprechend aus. Es ist sehr einfach
einzurichten und funktioniert dem ersten Eindruck nach tadellos.
Für mich zu klären sind noch die Lizenzbedingungen sowie der Einsatz &ldquo;im Team&rdquo;.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Persönliche Git-Zentrale]]></title>
    <link href="http://uli-heller.github.com/blog/2013/10/09/persoenliche-git-zentrale/"/>
    <updated>2013-10-09T11:00:00+02:00</updated>
    <id>http://uli-heller.github.com/blog/2013/10/09/persoenliche-git-zentrale</id>
    <content type="html"><![CDATA[<p>Für ein Kundenprojekt brauche ich ein &ldquo;zentrales&rdquo; Git-Repository.
Hier die Randbedingungen:</p>

<ul>
<li>geringer Admin-Aufwand</li>
<li>möglichst wenig Zusatzprogramme einsetzen (Ruby, Gitlab, &hellip;)</li>
<li>kein öffentlicher Zugriff</li>
</ul>


<p>Umgesetzt habe ich das ganze mit einem SSH-Konto auf meinem Fileserver.</p>

<!-- more -->


<h2>Fileserver</h2>

<h3>SSH-Konto</h3>

<ul>
<li>Benutzer auf Fileserver ist vorhanden: &ldquo;bert&rdquo;</li>
<li>SSH-Anmeldung funktioniert ohne Kennwort</li>
</ul>


<h3>Git-Repository einrichten</h3>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>mkdir git
</span><span class='line'>cd git
</span><span class='line'>for p in base test server; do \
</span><span class='line'>   mkdir $p.git; \
</span><span class='line'>   ( cd &ldquo;$p.git&rdquo;; git &mdash;bare init ); \
</span><span class='line'>done</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>Arbeitsrechner</h2>

<h3>Git-Repositories mit Fileserver verknüpfen</h3>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd git
</span><span class='line'>for p in base test server; do \
</span><span class='line'>(                             \
</span><span class='line'>  cd $p;                      \
</span><span class='line'>  git remote add fileserver bert@fileserver:git/base.git; \
</span><span class='line'>);                            \
</span><span class='line'>done</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h3>Git-Repositories auf Fileserver übertragen</h3>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd git
</span><span class='line'>for p in base test server; do \
</span><span class='line'>(                             \
</span><span class='line'>  cd $p;                      \
</span><span class='line'>  git push fileserver master; \
</span><span class='line'>);                            \
</span><span class='line'>done</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>Änderungen</h2>

<h3>2013-10-13</h3>

<ul>
<li>Tippfehler korrigiert</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[GitHub-Projekt spalten am Beispiel Moxie]]></title>
    <link href="http://uli-heller.github.com/blog/2013/09/13/git-fork/"/>
    <updated>2013-09-13T07:00:00+02:00</updated>
    <id>http://uli-heller.github.com/blog/2013/09/13/git-fork</id>
    <content type="html"><![CDATA[<p>Im <a href="/blog/2013/07/21/git-fork">diesem Artikel</a> hab' ich erstmals kurz zusammengefasst,
wie ich mit Forks von GitHub arbeite. Hier folgen nun mehr Details am konkreten Beispiel
&ldquo;moxie&rdquo;.</p>

<!-- more -->


<h2>GitHub-Projekt spalten (fork)</h2>

<ul>
<li>GitHub-Projekt im Browser öffnen: <a href="https://github.com/gitblit/moxie">https://github.com/gitblit/moxie</a></li>
<li>Auf der Projektseite wird auch die Clone-Url-O angezeigt, hier: <a href="https://github.com/gitblit/moxie.git">https://github.com/gitblit/moxie.git</a></li>
<li><p>Auf der Projektseite den Knopf &ldquo;Fork&rdquo; anwählen:</p>

<p><img src="/images/git/github-fork.png" alt="GitHub-Fork" /></p></li>
<li><p>Folgeseiten &ldquo;durchklicken&rdquo;</p></li>
<li>Schlußendlich landet man auf dem abgespaltenen Projekt, bei mir ist das die Browser-Url
<a href="https://github.com/uli-heller/moxie">https://github.com/uli-heller/moxie</a></li>
<li>Auf der Projektseite wird auch die Clone-Url-S angezeigt, bei mir: git@github.com:uli-heller/moxie.git</li>
</ul>


<h2>Lokalen Kopie anlegen (clone)</h2>

<p>Gespaltenes Projekt kopieren mit: <code>git clone &lt;clone-url-s&gt;</code>, also
im konkreten Fall <code>git clone git@github.com:uli-heller/moxie.git</code>:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Lokale Kopie anlegen </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>~/git$ git clone git@github.com:uli-heller/moxie.git
</span><span class='line'>Klone nach &lsquo;moxie&rsquo;&hellip;
</span><span class='line'>remote: Counting objects: 11313, done.
</span><span class='line'>remote: Compressing objects: 100% (2961/2961), done.
</span><span class='line'>remote: Total 11313 (delta 6316), reused 11137 (delta 6140)
</span><span class='line'>Empfange Objekte: 100% (11313/11313), 71.63 MiB | 1.60 MiB/s, done.
</span><span class='line'>Löse Unterschiede auf: 100% (6316/6316), done.
</span><span class='line'>Prüfe Konnektivität&hellip; Fertig</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>Original-Projekt einbinden (upstream)</h2>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Original-Projekt einbinden </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>~/git$ cd moxie
</span><span class='line'>~/git/moxie$ git remote add upstream
</span><span class='line'>~/git/moxie$ git fetch upstream
</span><span class='line'>Von &lt;a href="https://github.com/gitblit/moxie">https://github.com/gitblit/moxie&lt;/a>
</span><span class='line'> * [neuer Branch]    gh-pages   &ndash;> upstream/gh-pages
</span><span class='line'> * [neuer Branch]    master     &ndash;> upstream/master</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>Kopie des Original-Projektes aktualisieren</h2>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Original-Projekt aktualisieren </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>~/git/moxie$ git fetch upstream
</span><span class='line'>remote: Counting objects: 1, done.
</span><span class='line'>remote: Total 1 (delta 0), reused 1 (delta 0)
</span><span class='line'>Unpacking objects: 100% (1/1), done.
</span><span class='line'>Von &lt;a href="https://github.com/gitblit/moxie">https://github.com/gitblit/moxie&lt;/a>
</span><span class='line'>   e1c5785..a13973e  master     &ndash;> upstream/master</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>Änderungen des Original-Projektes einarbeiten</h2>

<p>Gelegentlich will man die Änderungen des Original-Projektes
in das abgespaltete Projekt einarbeiten. Vor der Einarbeitung
muß die Kopie des Original-Projektes aktualisiert worden sein
(<code>git fetch upstream</code>).</p>

<h3>Nur eigene Pull-Requests</h3>

<p>Hier der Ablauf, wenn am Original-Projekt zwischenzeitlich
nur eigene Pull-Requests eingearbeitet wurden. Die Aktualisierung
läuft in diesem Falle völlig schmerzfrei!</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Original-Projekt einarbeiten </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>~/git/moxie$ git checkout master
</span><span class='line'>Gewechselt zu Branch &lsquo;master&rsquo;
</span><span class='line'>~/git/moxie$ git merge &mdash;no-commit upstream/master
</span><span class='line'>Aktualisiere 34b618c..a13973e
</span><span class='line'>Fast-forward
</span><span class='line'>~/git/moxie$ git status&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h1>Auf Branch master&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;p>nichts zu committen, Arbeitsverzeichnis unverändert</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h3>Konflikte</h3>

<p>Wenn am Original-Projekt zwischenzeitlich auch andere Änderungen
gemacht wurden, so kommt es gelegentlich zu Konflikten beim
Einarbeiten. Die Konflikte können mit <code>git mergetool</code> aufgelöst
werden. Wichtig: Vor dem abschließenden <code>git commit</code> sollte
der neue Stand ausführlich getestet werden!</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Original-Projekt einarbeiten </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>~/git/moxie$ git checkout master
</span><span class='line'>Gewechselt zu Branch &lsquo;master&rsquo;
</span><span class='line'>~/git/moxie$ git merge &mdash;no-commit upstream/master&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h2>Hier muß ich noch die &ldquo;richtigen&rdquo; Meldungen einpflegen&lt;/h2>
</span><span class='line'>
</span><span class='line'>&lt;p>automatischer Merge von Rakefile
</span><span class='line'>automatischer Merge von Gemfile.lock
</span><span class='line'>automatischer Merge von Gemfile
</span><span class='line'>automatischer Merge von .ruby-version
</span><span class='line'>KONFLIKT (hinzufügen/hinzufügen): Merge-Konflikt in .ruby-version
</span><span class='line'>Entferne .rbenv-version
</span><span class='line'>Automatischer Merge fehlgeschlagen; beheben Sie die Konflikte und committen Sie dann das Ergebnis.
</span><span class='line'>~/git/moxie$ git mergetool&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h2>Hier muß ich noch die &ldquo;richtigen&rdquo; Meldungen einpflegen&lt;/h2>
</span><span class='line'>
</span><span class='line'>&lt;p>This message is displayed because &lsquo;merge.tool&rsquo; is not configured.
</span><span class='line'>See &lsquo;git mergetool &mdash;tool-help&rsquo; or &lsquo;git help config&rsquo; for more details.
</span><span class='line'>&lsquo;git mergetool&rsquo; will now attempt to use one of the following tools:
</span><span class='line'>meld opendiff kdiff3 tkdiff xxdiff tortoisemerge gvimdiff diffuse ecmerge p4merge araxis bc3 codecompare emerge vimdiff
</span><span class='line'>Merging:
</span><span class='line'>.ruby-version&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>Normal merge conflict for &lsquo;.ruby-version&rsquo;:
</span><span class='line'>  {local}: created file
</span><span class='line'>  {remote}: created file
</span><span class='line'>Hit return to start merge resolution tool (meld): meld
</span><span class='line'>~/git/moxie$ git commit -m &ldquo;Merged&hellip;&rdquo;</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>Links</h2>

<ul>
<li>GitHub-Artikel: <a href="https://help.github.com/articles/fork-a-repo">https://help.github.com/articles/fork-a-repo</a>.</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Git-Svn: Absturz bei 'dcommit', 'rebase', ...]]></title>
    <link href="http://uli-heller.github.com/blog/2013/08/08/git-svn-absturz/"/>
    <updated>2013-08-08T08:00:00+02:00</updated>
    <id>http://uli-heller.github.com/blog/2013/08/08/git-svn-absturz</id>
    <content type="html"><![CDATA[<p>Seit der Aktualisierung auf Subversion-1.8.1 gibt es immer wieder
Fehler bei der Ausführung von Git-Svn-Kommandos. Beobachtet habe ich
die Fehler bei</p>

<ul>
<li><code>git svn dcommit</code></li>
<li><code>git svn rebase</code></li>
<li><code>git svn clone</code></li>
</ul>


<p>Der Fehler tritt nur beim &ldquo;Aufräumen&rdquo; auf, d.h. nachdem das betreffende
Kommando abgearbeitet ist und der Git-Svn-Prozess nur noch beendet werden
muß. Er tritt auch nur auf, wenn Daten über die Leitung geschickt werden,
also wenn:</p>

<ul>
<li>das lokale Git-Repo geändert wurde (dcommit)</li>
<li>das Svn-Repository geändert wurde (rebase)</li>
</ul>


<p>Wenn man den Fehler einfach ignoriert, kann man &ldquo;normal&rdquo; weiterarbeiten.</p>

<!-- more -->


<h2>Reproduzieren des Problems</h2>

<p>Am einfachsten läßt sich das Problem reproduzieren, wenn man ein
Subversion-Repository mit Testdaten verfügbar hat. Bei mir hat das den Namen
&ldquo;sandbox&rdquo;.</p>

<p>Ach ja: Das Subversion-Repository muß via &ldquo;<a href="https://...">https://...</a>&rdquo; angesprochen werden.
Mit einem lokalen Subversion-Repository,
das mittels &ldquo;file://&hellip;&rdquo; angesprochen wird,
tritt das Problem nicht auf!</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Clonen des Svn-Repositories </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~/git<span class="nv">$ </span>git svn clone &amp;mdash;stdlayout &lt;a <span class="nv">href</span><span class="o">=</span><span class="s2">&quot;https://&quot;</span>&gt;https://&lt;/a&gt;<span class="o">{</span>servername<span class="o">}</span>/<span class="o">{</span>pfad<span class="o">}</span>/sandbox
</span><span class='line'>Initialisierte leeres Git-Projektarchiv in &amp;hellip;/git/sandbox/.git/
</span><span class='line'><span class="nv">r1</span> <span class="o">=</span> 7ebd17bca2c5e3ead4816e93371d695eb3e19a36 <span class="o">(</span>refs/remotes/trunk<span class="o">)</span>&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;A   bug-fix.ticket18
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;r2 <span class="o">=</span> 77410a5f40f2eaeaf666f9fbda5261a521acb33f <span class="o">(</span>refs/remotes/trunk<span class="o">)</span>&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;M   bug-fix.ticket18
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;&amp;hellip;
</span><span class='line'><span class="nv">r81</span> <span class="o">=</span> 32ebfb3669331a5a5b60d27dbf54e0b6c7a601da <span class="o">(</span>refs/remotes/trunk<span class="o">)</span>
</span><span class='line'>Checked out HEAD:
</span><span class='line'>  &lt;a <span class="nv">href</span><span class="o">=</span><span class="s2">&quot;https://83.236.132.107/svn/sandbox/trunk&quot;</span>&gt;https://83.236.132.107/svn/sandbox/trunk&lt;/a&gt; r81
</span><span class='line'>creating empty directory: baumkonflikt/dir1
</span><span class='line'>creating empty directory: danyi_tests
</span><span class='line'>error: git-svn died of signal 11
</span><span class='line'>~/git<span class="nv">$ </span><span class="nb">cd </span>sandbox
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Hierbei tritt der Fehler auf. Der Ablauf ist aber verhältnismässig aufwändig,
weil immer das ganze Repository kopiert wird.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Neue Datei git-svn-absturz.txt </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~/git/sandbox<span class="nv">$ </span>date &gt;&gt;git-svn-absturz.txt
</span><span class='line'>~/git/sandbox<span class="nv">$ </span>git add git-svn-absturz.txt
</span><span class='line'>~/git/sandbox<span class="nv">$ </span>git commit -m &amp;ldquo;Aktualisiert: git-svn-absturz.txt&amp;rdquo; .
</span><span class='line'><span class="o">[</span>master b984d2a<span class="o">]</span> Aktualisiert: git-svn-absturz.txt
</span><span class='line'> 1 file changed, 1 insertion<span class="o">(</span>+<span class="o">)</span>
</span><span class='line'> create mode 100644 git-svn-absturz.txt
</span><span class='line'>~/git/sandbox<span class="nv">$ </span>git svn dcommit
</span><span class='line'>Committing to &lt;a <span class="nv">href</span><span class="o">=</span><span class="s2">&quot;https://83.236.132.107/svn/sandbox/trunk&quot;</span>&gt;https://83.236.132.107/svn/sandbox/trunk&lt;/a&gt; &amp;hellip;&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;A   git-svn-absturz.txt
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;Committed r82&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;A   git-svn-absturz.txt
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;r82 <span class="o">=</span> 610e72f25af787a95e3d2bc6c243bcdef720c40d <span class="o">(</span>refs/remotes/trunk<span class="o">)</span>
</span><span class='line'>No changes between b984d2a7c45c9b7e94fe5edc3b765b84a3b2ed7d and refs/remotes/trunk
</span><span class='line'>Resetting to the latest refs/remotes/trunk
</span><span class='line'>error: git-svn died of signal 11
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Der Fehler ist erneut aufgetreten. Der Ablauf ist auch ungeeignet, weil ich
nicht für jeden Test eine neue Datei anlegen möchte.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Einfache Reproduktion des Problems </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~/git/sandbox<span class="nv">$ </span>date &gt;&gt;git-svn-absturz.txt
</span><span class='line'>~/git/sandbox<span class="nv">$ </span>git commit -m &amp;ldquo;Aktualisiert: git-svn-absturz.txt&amp;rdquo; .
</span><span class='line'><span class="o">[</span>master 10629a2<span class="o">]</span> Aktualisiert: git-svn-absturz.txt
</span><span class='line'> 1 file changed, 1 insertion<span class="o">(</span>+<span class="o">)</span>
</span><span class='line'>~/git/sandbox<span class="nv">$ </span>git svn dcommit
</span><span class='line'>Committing to &lt;a <span class="nv">href</span><span class="o">=</span><span class="s2">&quot;https://83.236.132.107/svn/sandbox/trunk&quot;</span>&gt;https://83.236.132.107/svn/sandbox/trunk&lt;/a&gt; &amp;hellip;&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;M   git-svn-absturz.txt
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;Committed r83&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;M   git-svn-absturz.txt
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;r83 <span class="o">=</span> 5260be6684059d7b8416c011dfa644d837f317a9 <span class="o">(</span>refs/remotes/trunk<span class="o">)</span>
</span><span class='line'>No changes between 10629a268ed877ba48fa2a70ed387b04bacd18cb and refs/remotes/trunk
</span><span class='line'>Resetting to the latest refs/remotes/trunk
</span><span class='line'>error: git-svn died of signal 11
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Der Fehler ist erneut aufgetreten. Der Ablauf ist schnell wiederholt
durchführbar.</p>

<p>Hier nochmal die abzusetzenden Befehle ohne Ausgaben zur einfachen
Wiederholung mit &ldquo;Ausschneiden und Einfügen&rdquo;:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Einfache Reproduktion &ndash; abzusetzende Befehle </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>date &gt;&gt;git-svn-absturz.txt
</span><span class='line'>git commit -m &amp;ldquo;Aktualisiert: git-svn-absturz.txt&amp;rdquo; .
</span><span class='line'>git svn dcommit
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>Analyse</h2>

<h3>strace</h3>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Reproduktion mit &lsquo;strace&rsquo; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>date &gt;&gt;git-svn-absturz.txt
</span><span class='line'>git commit -m &amp;ldquo;Aktualisiert: git-svn-absturz.txt&amp;rdquo; .
</span><span class='line'>strace git svn dcommit
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Diese Ausgaben werden geliefert:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Ausgabe von &lsquo;strace git svn&rsquo; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>&amp;hellip;&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;M   git-svn-absturz.txt
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;Committed r84&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;M   git-svn-absturz.txt
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;r84 <span class="o">=</span> af8102dc59c40c47b56a404b5ceffa7c5892bc06 <span class="o">(</span>refs/remotes/trunk<span class="o">)</span>
</span><span class='line'>No changes between 191f43c2a02d86825f946de62f6fd8f56b5aa74b and refs/remotes/trunk
</span><span class='line'>Resetting to the latest refs/remotes/trunk
</span><span class='line'><span class="o">[{</span>WIFSIGNALED<span class="o">(</span>s<span class="o">)</span> &amp;amp;&amp;amp; WTERMSIG<span class="o">(</span>s<span class="o">)</span> <span class="o">==</span> SIGSEGV &amp;amp;&amp;amp; WCOREDUMP<span class="o">(</span>s<span class="o">)}]</span>, 0, NULL<span class="o">)</span> <span class="o">=</span> 14979
</span><span class='line'>&amp;mdash;&amp;ndash; SIGCHLD <span class="o">(</span>Child exited<span class="o">)</span> @ 0 <span class="o">(</span>0<span class="o">)</span> &amp;mdash;&amp;ndash;
</span><span class='line'>write<span class="o">(</span>2, &amp;ldquo;error: git-svn died of signal 11&amp;rdquo;&amp;hellip;, 33error: git-svn died of signal 11
</span><span class='line'><span class="o">)</span> <span class="o">=</span> 33
</span><span class='line'>exit_group<span class="o">(</span>139<span class="o">)</span>                         <span class="o">=</span> ?
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Dieser Trace hat wenig Aussagekraft, weil einfach nur ein Unterprozess
anstürzt. Nun könnte man den Test nochmals laufen lassen mit &lsquo;strace -F&rsquo;
oder wir füttern &lsquo;strace&rsquo; direkt mit &lsquo;git-svn&rsquo;:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Reproduktion mit &lsquo;strace&rsquo; und &lsquo;git-svn&rsquo; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>date &gt;&gt;git-svn-absturz.txt
</span><span class='line'>git commit -m &amp;ldquo;Aktualisiert: git-svn-absturz.txt&amp;rdquo; .
</span><span class='line'>strace /usr/lib/git-core/git-svn dcommit
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Dies führt zu folgender Ausgabe:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Ausgabe von &lsquo;strace git-svn&rsquo; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>execve<span class="o">(</span>&amp;ldquo;/usr/lib/git-core/git-svn&amp;rdquo;, <span class="o">[</span>&amp;ldquo;/usr/lib/git-core/git-svn&amp;rdquo;, &amp;ldquo;dcommit&amp;rdquo;<span class="o">]</span>, <span class="o">[</span>/&lt;em&gt; 59 vars &lt;/em&gt;/<span class="o">])</span> <span class="o">=</span> 0
</span><span class='line'>brk<span class="o">(</span>0<span class="o">)</span>                                  <span class="o">=</span> 0x25fd000
</span><span class='line'>access<span class="o">(</span>&amp;ldquo;/etc/ld.so.nohwcap&amp;rdquo;, F_OK<span class="o">)</span>      <span class="o">=</span> -1 ENOENT <span class="o">(</span>No such file or directory<span class="o">)</span>
</span><span class='line'>&amp;hellip;
</span><span class='line'>chmod<span class="o">(</span>&amp;ldquo;.git/Git_zUlsP8&amp;rdquo;, 0600<span class="o">)</span>          <span class="o">=</span> 0
</span><span class='line'>unlink<span class="o">(</span>&amp;ldquo;.git/Git_zUlsP8&amp;rdquo;<span class="o">)</span>               <span class="o">=</span> 0
</span><span class='line'>close<span class="o">(</span>14<span class="o">)</span>                               <span class="o">=</span> 0
</span><span class='line'>close<span class="o">(</span>4294967295<span class="o">)</span>                       <span class="o">=</span> -1 EBADF <span class="o">(</span>Bad file descriptor<span class="o">)</span>
</span><span class='line'>close<span class="o">(</span>13<span class="o">)</span>                               <span class="o">=</span> 0
</span><span class='line'>munmap<span class="o">(</span>0x7f03f9fc3000, 2113912<span class="o">)</span>         <span class="o">=</span> 0
</span><span class='line'>munmap<span class="o">(</span>0x7f03fb641000, 2105608<span class="o">)</span>         <span class="o">=</span> 0
</span><span class='line'>&amp;hellip;
</span><span class='line'>munmap<span class="o">(</span>0x7f0402cd6000, 8192<span class="o">)</span>            <span class="o">=</span> 0
</span><span class='line'>munmap<span class="o">(</span>0x7f0402cf3000, 8192<span class="o">)</span>            <span class="o">=</span> 0
</span><span class='line'>munmap<span class="o">(</span>0x7f0402d03000, 8192<span class="o">)</span>            <span class="o">=</span> 0
</span><span class='line'>munmap<span class="o">(</span>0x7f0402cef000, 8192<span class="o">)</span>            <span class="o">=</span> 0
</span><span class='line'>&amp;mdash;&amp;ndash; SIGSEGV <span class="o">(</span>Segmentation fault<span class="o">)</span> @ 0 <span class="o">(</span>0<span class="o">)</span> &amp;mdash;&amp;ndash;
</span><span class='line'>+++ killed by SIGSEGV <span class="o">(</span>core dumped<span class="o">)</span> +++
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h3>Devel:Trace</h3>

<h4>Perl-Modul Devel::Trace installieren</h4>

<p><code>sudo apt-get install libdevel-trace-perl</code></p>

<h4>Test</h4>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Reproduktion mit &lsquo;Devel::Trace&rsquo; und &lsquo;git-svn&rsquo; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>date &gt;&gt;git-svn-absturz.txt
</span><span class='line'>git commit -m &amp;ldquo;Aktualisiert: git-svn-absturz.txt&amp;rdquo; .
</span><span class='line'>perl -d::Trace -f /usr/lib/git-core/git-svn dcommit
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Dabei wird diese Ausgabe geliefert:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Ausgabe mit &lsquo;Devel::Trace&rsquo; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>&amp;hellip;&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;blockquote&gt;&lt;blockquote&gt;&lt;p&gt;/usr/share/perl5/Git/SVN.pm:1659:    unmemoize_svn_mergeinfo_functions<span class="o">()</span>;
</span><span class='line'>/usr/share/perl5/Git/SVN.pm:1626:        <span class="k">return if </span>not <span class="nv">$memoized</span>;
</span><span class='line'>/usr/share/perl5/Git/SVN.pm:85:  unlink keys %LOCKFILES <span class="k">if</span> %LOCKFILES;
</span><span class='line'>/usr/share/perl5/Git/SVN.pm:86:  unlink keys %INDEX_FILES <span class="k">if</span> %INDEX_FILES;
</span><span class='line'>/usr/lib/perl5/SVN/Core.pm:390:     <span class="nv">$globaldestroy</span> <span class="o">=</span> 1;
</span><span class='line'>/usr/lib/perl5/SVN/Core.pm:58:     SVN::_Core::apr_terminate<span class="o">()</span>;
</span><span class='line'>Speicherzugriffsfehler <span class="o">(</span>Speicherabzug geschrieben<span class="o">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></blockquote></blockquote>

<p>Richtig &ldquo;weiter&rdquo; kommen wir damit nicht &ndash; &ldquo;apr_terminate()&rdquo; ist
eine C-Funktion, die per SWIG in Perl eingebunden ist.</p>

<h2>Korrekturversuche</h2>

<h3>Neueste Version von serf-1.2.1</h3>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Patch erzeugen </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>git svn clone &amp;mdash;stdlayout &lt;a <span class="nv">href</span><span class="o">=</span><span class="s2">&quot;http://serf.googlecode.com/svn&quot;</span>&gt;http://serf.googlecode.com/svn&lt;/a&gt;
</span><span class='line'>&amp;hellip;
</span><span class='line'><span class="nv">r2111</span> <span class="o">=</span> 6e0d690806e4796d2d698e5fd6a33b91832b9fd3 <span class="o">(</span>refs/remotes/trunk<span class="o">)</span>&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;M   auth/auth_spnego.c
</span><span class='line'>M   outgoing.c
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;r2112 <span class="o">=</span> 40194aec74ce32ba844aafc0a5dbdda334f2abfb <span class="o">(</span>refs/remotes/trunk<span class="o">)</span>
</span><span class='line'>Checked out HEAD:
</span><span class='line'>  &lt;a <span class="nv">href</span><span class="o">=</span><span class="s2">&quot;http://serf.googlecode.com/svn/trunk&quot;</span>&gt;http://serf.googlecode.com/svn/trunk&lt;/a&gt; r2112
</span><span class='line'><span class="nv">$ </span>mv svn serf
</span><span class='line'><span class="nv">$ </span><span class="nb">cd </span>serf
</span><span class='line'><span class="nv">$ </span>git diff remotes/tags/1.2.1 remotes/1.2.x &gt;serf-1.2.1-r2112.patch
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Den dabei erzeugten Patch habe ich in die Patch-Serie von
SERF aufgenommen und ein neues SERF-Paket erzeugt und dieses
dann installiert mit</p>

<ul>
<li><code>sudo dpkg -i libserf1_1.2.1-0dp04~precise1_amd64.deb</code></li>
</ul>


<p>Ein Nachtest ergibt: Keine Besserung.</p>

<h3>Neueste Version von apr-1.4.8</h3>

<p>Der übliche Ablauf mittels</p>

<pre><code>* `uupdate -u ../apr-1.4.8.tar.gz`
* `cd ../apr-1.4.8`
* `dpkg-buildpackage`
</code></pre>

<p>funktioniert nicht &ndash; es werden viele fehlende Funktionen angemeckert von
<code>dh_makeshlibs</code>/<code>dpkg-gensymbols</code>:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Fehlende Funktionen </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>+#MISSING: 1.4.8-0dp01~precise1# apr&lt;strong>SHA384_Data@Base 1.2.7
</span><span class='line'>+#MISSING: 1.4.8-0dp01~precise1# apr&lt;/strong>SHA384_End@Base 1.2.7
</span><span class='line'>+#MISSING: 1.4.8-0dp01~precise1# apr&lt;strong>SHA384_Final@Base 1.2.7
</span><span class='line'>+#MISSING: 1.4.8-0dp01~precise1# apr&lt;/strong>SHA384_Init@Base 1.2.7
</span><span class='line'>+#MISSING: 1.4.8-0dp01~precise1# apr&lt;strong>SHA384_Update@Base 1.2.7
</span><span class='line'>+#MISSING: 1.4.8-0dp01~precise1# apr&lt;/strong>SHA512_Data@Base 1.2.7
</span><span class='line'>+#MISSING: 1.4.8-0dp01~precise1# apr&lt;strong>SHA512_End@Base 1.2.7
</span><span class='line'>+#MISSING: 1.4.8-0dp01~precise1# apr&lt;/strong>SHA512_Final@Base 1.2.7
</span><span class='line'>+#MISSING: 1.4.8-0dp01~precise1# apr&lt;strong>SHA512_Init@Base 1.2.7
</span><span class='line'>+#MISSING: 1.4.8-0dp01~precise1# apr&lt;/strong>SHA512_Last@Base 1.2.7
</span><span class='line'>+#MISSING: 1.4.8-0dp01~precise1# apr&lt;strong>SHA512_Transform@Base 1.2.7
</span><span class='line'>+#MISSING: 1.4.8-0dp01~precise1# apr&lt;/strong>SHA512_Update@Base 1.2.7</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Nach Anpassung von &hellip;/debian/symbols.common funktioniert&rsquo;s. Klar, die neue
Version ist nicht so richtig kompatibel zur alten Version. Muß ich im
Hinterkopf behalten.</p>

<p>Ein Nachtest ergibt: Keine Besserung, <code>git-svn</code> stürzt noch immer ab.
Also: Wieder die alte Version installieren: <code>sudo apt-get install libapr1=1.4.6\*</code>.</p>

<h3>Neueste Version von aprutil-1.5.2</h3>

<p>Auf <a href="http://www.linuxfromscratch.org/blfs/view/svn/general/subversion.html">LinuxFromScratch</a> gibt es einen Hinweis zur Verwendung der neuesten Version von aprutil.</p>

<ul>
<li>Alt:  1.3.12+dfsg-3</li>
<li>Neu:  1.5.2-1</li>
</ul>


<p>Paket erzeugt und installiert gefolgt vom Nachtest ergibt: Keine Besserung.
Also: Wieder die alte Version installieren: <code>sudo apt-get install libaprutil1=1.3.12*</code></p>

<h3>Test mit Subversion-1.8.3</h3>

<p>Wenn statt Subversion-1.8.1 die Version 1.8.3 verwendet wird, so tritt das Problem nach wie vor auf!
Die Version 1.8.3 bringt also keine Verbesserung.</p>

<h3>Test mit Git-1.8.4</h3>

<p>Wenn statt Git-1.8.3 die Version 1.8.4 verwendet wird, so tritt das Problem nach wie vor auf!
Die Version 1.8.4 bringt also keine Verbesserung.</p>

<h3>Anpassungen an /usr/share/perl5/Git/SVN/Ra.pm</h3>

<p>Unter diesem Link <a href="http://git.661346.n2.nabble.com/git-svn-fetch-segfault-on-exit-td7592205.html">http://git.661346.n2.nabble.com/git-svn-fetch-segfault-on-exit-td7592205.html</a>
gibt es einen Korrekturvorschlag:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Anpassungen an ./usr/share/perl5/Git/SVN/Ra.pm </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class='diff'><span class='line'>&amp;mdash;&amp;ndash; /usr/share/perl5/Git/SVN/Ra.pm~ 2013-07-22 20:59:55.000000000 +0200
</span><span class='line'><span class="gi">+++ /usr/share/perl5/Git/SVN/Ra.pm  2013-09-01 14:53:58.353718366 +0200</span>
</span><span class='line'><span class="gu">@@ -108,7 +108,7 @@&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;                      config =&amp;gt; $config,
</span><span class='line'>              pool =&amp;gt; SVN::Pool-&amp;gt;new,
</span><span class='line'>                      auth_provider_callbacks =&amp;gt; $callbacks);
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;ul&gt;
</span><span class='line'>&lt;li&gt;$RA = bless $self, $class;&lt;/li&gt;
</span><span class='line'>&lt;li&gt;&lt;p&gt;$self = bless $self, $class;&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;h1&gt;Make sure its canonicalized&lt;/h1&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;$self-&gt;url($url);
</span><span class='line'><span class="gu">@@ -118,7 +118,7 @@</span>
</span><span class='line'>$self-&gt;{cache} = { check_path =&gt; { r =&gt; 0, data =&gt; {} },
</span><span class='line'>                   get_dir =&gt; { r =&gt; 0, data =&gt; {} } };&lt;/p&gt;&lt;/li&gt;
</span><span class='line'>&lt;li&gt;&lt;p&gt;return $RA;&lt;/p&gt;&lt;/li&gt;
</span><span class='line'>&lt;li&gt;return $self;
</span><span class='line'>}&lt;/li&gt;
</span><span class='line'>&lt;/ul&gt;
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>&lt;p&gt; sub url {
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Mit diesen Änderungen tritt der Fehler nicht mehr auf. Sie deaktivieren
die Verwendung der lokalen Variablen <code>$RA</code>, diese bleibt damit immer auf dem
Wert <code>undef</code>.</p>

<h3>Korrektur von /usr/share/perl5/Git/SVN/Ra.pm</h3>

<p>Nähere Analysen ergeben, dass der Destruktor von <code>$RA</code> nicht aufgerufen
wird. Dadurch gibt es dann einen Absturz bei <code>apr_terminate()</code>. Mit
nachfolgender Änderung wird der Destruktor aufgerufen, bevor
<code>apr_terminate()</code> ausgeführt wird.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Korrektur von ./usr/share/perl5/Git/SVN/Ra.pm </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='diff'><span class='line'>&amp;mdash;&amp;ndash; git-1.8.4.orig/perl/Git/SVN/Ra.pm   2013-09-01 14:30:23.629989557 +0000
</span><span class='line'><span class="gi">+++ git-1.8.4/perl/Git/SVN/Ra.pm        2013-09-02 06:55:19.666260617 +0000</span>
</span><span class='line'><span class="gu">@@ -32,6 +32,10 @@&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;    }
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt; }&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;+END {
</span><span class='line'><span class="gi">+  $RA = undef;</span>
</span><span class='line'><span class="gi">+}</span>
</span><span class='line'><span class="gi">+</span>
</span><span class='line'> sub _auth_providers () {&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;    my @rv = (
</span><span class='line'>      SVN::Client::get_simple_provider(),
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Die oben aufgeführte Korrektur habe ich auch an die Git-Mailing-Liste
geschickt.</p>

<h2>Korrektur</h2>

<p>Mit meinen neuesten Paketen tritt das Problem nicht mehr auf:</p>

<ul>
<li>subversion-1.8.3 (&hellip; oder neuer)</li>
<li>git-1.8.4-0dp10 (&hellip; oder neuer)</li>
</ul>


<h2>Änderungen</h2>

<ul>
<li>2013-08-15: Test mit aprutil-1.5.2</li>
<li>2013-09-01: Subversion-1.8.3, Git-1.8.4, Anpassungen an /usr/share/perl5/Git/SVN/Ra.pm, Korrektur</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Git Fork]]></title>
    <link href="http://uli-heller.github.com/blog/2013/07/21/git-fork/"/>
    <updated>2013-07-21T09:00:00+02:00</updated>
    <id>http://uli-heller.github.com/blog/2013/07/21/git-fork</id>
    <content type="html"><![CDATA[<h1>Git Fork</h1>

<p>Hier kurz meine Notizen zum Arbeiten mit GitHub Forks:</p>

<ul>
<li>Bestehendes Projekt &ldquo;forken&rdquo; &ndash;> einfach via GitHub-Webseite</li>
<li>Lokalen Clone hiervon anlegen: <code>git clone ...</code></li>
<li>Lokale Änderungen an GitHub schicken:
<code>git push origin master</code></li>
<li>Original-Projekt als &ldquo;upstream&rdquo; definieren:
<code>git remote add upstream ...</code></li>
<li>Lokale Kopie des Original-Projektes aktualisieren:
<code>git fetch upstream</code></li>
<li>Lokale Kopie des Original-Projektes &ldquo;einarbeiten&rdquo;:

<ul>
<li><code>git merge --no-commit upstream/master</code></li>
<li><code>git mergetool</code></li>
<li><code>git commit -m ...</code></li>
</ul>
</li>
</ul>


<p>Mehr Details: <a href="https://help.github.com/articles/fork-a-repo">https://help.github.com/articles/fork-a-repo</a>.</p>
]]></content>
  </entry>
  
</feed>
