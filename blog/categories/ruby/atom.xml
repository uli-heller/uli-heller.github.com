<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Thema: Ruby | Was ich so treibe...]]></title>
  <link href="http://uli-heller.github.com/blog/categories/ruby/atom.xml" rel="self"/>
  <link href="http://uli-heller.github.com/"/>
  <updated>2014-02-13T07:09:37+01:00</updated>
  <id>http://uli-heller.github.com/</id>
  <author>
    <name><![CDATA[Uli Heller]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Octopress - Liquid error: can’t convert nil into String]]></title>
    <link href="http://uli-heller.github.com/blog/2013/07/20/octopress-fehler/"/>
    <updated>2013-07-20T07:00:00+02:00</updated>
    <id>http://uli-heller.github.com/blog/2013/07/20/octopress-fehler</id>
    <content type="html"><![CDATA[<p>Beim Einbinden von Dateien in einen Octopress-Blog-Eintrag sehe ich immer mal wieder
Fehlermeldungen wie diese:</p>

<pre><code>Liquid error: can’t convert nil into String
</code></pre>

<p>Sie tauchen immer dann auf, wenn ich Dateien ohne Extension mittels <code>include_code</code>
einbinde:</p>

<pre><code>{% include_code redmine/passenger/passenger %}
</code></pre>

<!-- more -->


<h2>Einige Tests</h2>

<h3>Wie sieht&rsquo;s mit der Version von Github/master aus?</h3>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>git clone &lt;a <span class="nv">href</span><span class="o">=</span><span class="s2">&quot;https://github.com/imathis/octopress.git&quot;</span>&gt;https://github.com/imathis/octopress.git&lt;/a&gt;
</span><span class='line'>Klone nach &amp;lsquo;octopress&amp;rsquo;&amp;hellip;
</span><span class='line'>remote: Counting objects: 10661, <span class="k">done</span>.
</span><span class='line'>remote: Compressing objects: 100% <span class="o">(</span>4588/4588<span class="o">)</span>, <span class="k">done</span>.
</span><span class='line'>remote: Total 10661 <span class="o">(</span>delta 5839<span class="o">)</span>, reused 9830 <span class="o">(</span>delta 5212<span class="o">)</span>
</span><span class='line'>Empfange Objekte: 100% <span class="o">(</span>10661/10661<span class="o">)</span>, 2.30 MiB | 773.00 KiB/s, <span class="k">done</span>.
</span><span class='line'>Löse Unterschiede auf: 100% <span class="o">(</span>5839/5839<span class="o">)</span>, <span class="k">done</span>.
</span><span class='line'>Checking connectivity&amp;hellip; <span class="k">done</span>&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;<span class="nv">$ </span><span class="nb">cd </span>octopress/
</span><span class='line'>You are using &amp;lsquo;.rvmrc&amp;rsquo;, it requires trusting, it is slower and it is not compatible with other ruby managers,
</span><span class='line'>you can switch to &amp;lsquo;.ruby-version&amp;rsquo; using &amp;lsquo;rvm rvmrc to <span class="o">[</span>.<span class="o">]</span>ruby-version&amp;rsquo;
</span><span class='line'>or ignore this warnings with &amp;lsquo;rvm rvmrc warning ignore &amp;hellip;/octopress/.rvmrc&amp;rsquo;,
</span><span class='line'>&amp;lsquo;.rvmrc&amp;rsquo; will <span class="k">continue </span>to be the default project file in RVM 1 and RVM 2,
</span><span class='line'>to ignore the warning <span class="k">for </span>all files run &amp;lsquo;rvm rvmrc warning ignore all.rvmrcs&amp;rsquo;.&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;hr /&gt;
</span><span class='line'>
</span><span class='line'>&lt;ul&gt;
</span><span class='line'>&lt;li&gt;NOTICE                                                                       *&lt;/li&gt;
</span><span class='line'>&lt;/ul&gt;
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>&lt;hr /&gt;
</span><span class='line'>
</span><span class='line'>&lt;ul&gt;
</span><span class='line'>&lt;li&gt;RVM has encountered a new or modified .rvmrc file in the current directory,  *&lt;/li&gt;
</span><span class='line'>&lt;li&gt;this is a shell script and therefore may contain any shell commands.         *&lt;/li&gt;
</span><span class='line'>&lt;li&gt;&lt;pre&gt;&lt;code&gt;                                                                       *
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
</span><span class='line'>&lt;li&gt;Examine the contents of this file carefully to be sure the contents are      *&lt;/li&gt;
</span><span class='line'>&lt;li&gt;safe before trusting it!                                                     *&lt;/li&gt;
</span><span class='line'>&lt;li&gt;Do you wish to trust &amp;lsquo;&amp;hellip;/octopress/.rvmrc&amp;rsquo;?                                 *&lt;/li&gt;
</span><span class='line'>&lt;li&gt;Choose v<span class="o">[</span>iew<span class="o">]</span> below to view the contents                                     *&lt;/li&gt;
</span><span class='line'>&lt;/ul&gt;
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>&lt;hr /&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;y<span class="o">[</span>es<span class="o">]</span>, n<span class="o">[</span>o<span class="o">]</span>, v<span class="o">[</span>iew<span class="o">]</span>, c<span class="o">[</span>ancel<span class="o">]</span>&gt; yes
</span><span class='line'>Using &amp;hellip;/.rvm/gems/ruby-1.9.3-p392&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;<span class="nv">$ </span>bundle install
</span><span class='line'>Fetching gem metadata from &lt;a <span class="nv">href</span><span class="o">=</span><span class="s2">&quot;https://rubygems.org/........&quot;</span>&gt;https://rubygems.org/........&lt;/a&gt;
</span><span class='line'>Fetching gem metadata from &lt;a <span class="nv">href</span><span class="o">=</span><span class="s2">&quot;https://rubygems.org/..&quot;</span>&gt;https://rubygems.org/..&lt;/a&gt;
</span><span class='line'>Resolving dependencies&amp;hellip;
</span><span class='line'>Using rake <span class="o">(</span>0.9.2.2<span class="o">)</span>
</span><span class='line'>Using RedCloth <span class="o">(</span>4.2.9<span class="o">)</span>
</span><span class='line'>Using chunky_png <span class="o">(</span>1.2.5<span class="o">)</span>
</span><span class='line'>Using fast-stemmer <span class="o">(</span>1.0.1<span class="o">)</span>
</span><span class='line'>Using classifier <span class="o">(</span>1.3.3<span class="o">)</span>
</span><span class='line'>Using fssm <span class="o">(</span>0.2.9<span class="o">)</span>
</span><span class='line'>Installing sass <span class="o">(</span>3.2.9<span class="o">)</span>
</span><span class='line'>Installing compass <span class="o">(</span>0.12.2<span class="o">)</span>
</span><span class='line'>Using directory_watcher <span class="o">(</span>1.4.1<span class="o">)</span>
</span><span class='line'>Installing haml <span class="o">(</span>3.1.7<span class="o">)</span>
</span><span class='line'>Installing kramdown <span class="o">(</span>0.13.8<span class="o">)</span>
</span><span class='line'>Using liquid <span class="o">(</span>2.3.0<span class="o">)</span>
</span><span class='line'>Using syntax <span class="o">(</span>1.0.0<span class="o">)</span>
</span><span class='line'>Installing maruku <span class="o">(</span>0.6.1<span class="o">)</span>
</span><span class='line'>Using posix-spawn <span class="o">(</span>0.3.6<span class="o">)</span>
</span><span class='line'>Installing yajl-ruby <span class="o">(</span>1.1.0<span class="o">)</span>
</span><span class='line'>Installing pygments.rb <span class="o">(</span>0.3.4<span class="o">)</span>
</span><span class='line'>Installing jekyll <span class="o">(</span>0.12.0<span class="o">)</span>
</span><span class='line'>Installing rack <span class="o">(</span>1.5.2<span class="o">)</span>
</span><span class='line'>Installing rack-protection <span class="o">(</span>1.5.0<span class="o">)</span>
</span><span class='line'>Using rb-fsevent <span class="o">(</span>0.9.1<span class="o">)</span>
</span><span class='line'>Installing rdiscount <span class="o">(</span>2.0.7.3<span class="o">)</span>
</span><span class='line'>Using rubypants <span class="o">(</span>0.2.0<span class="o">)</span>
</span><span class='line'>Installing sass-globbing <span class="o">(</span>1.0.0<span class="o">)</span>
</span><span class='line'>Installing tilt <span class="o">(</span>1.3.7<span class="o">)</span>
</span><span class='line'>Installing sinatra <span class="o">(</span>1.4.2<span class="o">)</span>
</span><span class='line'>Using stringex <span class="o">(</span>1.4.0<span class="o">)</span>
</span><span class='line'>Using bundler <span class="o">(</span>1.3.5<span class="o">)</span>
</span><span class='line'>Your bundle is <span class="nb">complete</span>!
</span><span class='line'>Use &lt;code&gt;bundle show <span class="o">[</span>gemname<span class="o">]</span>&lt;/code&gt; to see where a bundled gem is installed.&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;<span class="nv">$ </span>rake install&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;h2&gt;Copying classic theme into ./source and ./sass&lt;/h2&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;mkdir -p <span class="nb">source</span>
</span><span class='line'>cp -r .themes/classic/source/. <span class="nb">source</span>
</span><span class='line'>mkdir -p sass
</span><span class='line'>cp -r .themes/classic/sass/. sass
</span><span class='line'>mkdir -p <span class="nb">source</span>/_posts
</span><span class='line'>mkdir -p public&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;<span class="nv">$ </span>rake generate&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;h2&gt;Generating Site with Jekyll&lt;/h2&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;directory <span class="nb">source</span>/stylesheets/
</span><span class='line'>   create <span class="nb">source</span>/stylesheets/screen.css
</span><span class='line'>Configuration from &amp;hellip;/octopress/_config.yml
</span><span class='line'>Building site: <span class="nb">source</span> &amp;ndash;&gt; public
</span><span class='line'>Successfully generated site: <span class="nb">source</span> &amp;ndash;&gt; public&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;<span class="nv">$ </span>mkdir -p <span class="nb">source</span>/downloads/code&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;<span class="nv">$ </span><span class="nb">echo</span> &amp;ldquo;Uli war da&amp;rdquo; &gt;source/downloads/code/mytest&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;<span class="nv">$ </span>mkdir -p <span class="nb">source</span>/downloads/code/redmine/passenger&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;<span class="nv">$ </span>cp &amp;hellip;/source/downloads/code/redmine/passenger/passenger <span class="nb">source</span>/downloads/code/redmine/passenger/.&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Jetzt noch ein Testdokument anlegen:</p>

<h2><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>&hellip;/source/_posts/2013-07-20-octopress.md </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'>&lt;/h2&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;layout: post
</span><span class='line'>author: Uli Heller
</span><span class='line'>published: yes
</span><span class='line'>title: &amp;ldquo;Octopress-Test&amp;rdquo;
</span><span class='line'>date: 2013-07-20 07:00&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;h2&gt;comments: true&lt;/h2&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;Test:&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt; %}&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;Test2:&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt; %}
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Sichten mit</p>

<ul>
<li><code>rake preview</code></li>
<li>Browser: <a href="http://localhost:4000">http://localhost:4000</a></li>
</ul>


<p>Sieht absolut OK aus, der Fehler tritt nicht auf!</p>

<h3>Wie sieht&rsquo;s mit der Version von Github/site-2.1 aus?</h3>

<p>Mit der Version von Github/site-2.1 tritt der Fehler genauso auf wie bei mir.
Er ist dort also nicht korrigiert.</p>

<h3>Wie sieht&rsquo;s mit der Version von Github/3.0 aus?</h3>

<p>Scheint komplett andersartig zu funktionieren &ndash; komme damit momentan nicht klar.</p>

<h3>Wie sieht&rsquo;s mit der Version von Github/source-2.1 aus?</h3>

<p>Der Zweig &ldquo;source-2.1&rdquo; existiert auf Github nicht mehr!</p>

<h2>Weiteres Vorgehen</h2>

<p>Für mich sieht&rsquo;s so aus, als wäre das Aufsetzen auf &ldquo;source-2.1&rdquo; eine echt blöde
Entscheidung gewesen. Werde mein Octopress wohl in nächster Zeit umstellen müssen
auf &ldquo;master&rdquo;.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Redmine: Von FCGI zu Passenger]]></title>
    <link href="http://uli-heller.github.com/blog/2013/07/19/redmine-passenger/"/>
    <updated>2013-07-19T15:00:00+02:00</updated>
    <id>http://uli-heller.github.com/blog/2013/07/19/redmine-passenger</id>
    <content type="html"><![CDATA[<p>Bislang habe ich Redmine hinter einem Apache HTTPD via FCGI betrieben.
Bei meinen Tests mit Redmine-2.3.2 gibt es bei dieser Konstellation aber
viele Probleme mit der Selektion des Rails-Environments. Es wird immer
&ldquo;development&rdquo; verwendet, &ldquo;production&rdquo; kann nicht mehr &ldquo;wie früher&rdquo; über
&ldquo;environment.rb&rdquo; und <code>ENV['RAILS_ENV'] ||= 'production'</code> selektiert werden.</p>

<!-- more -->


<h2>Sichtung der Alt-Version</h2>

<p>Zunächst muß sichergestellt werden, dass die alte Version hinreichend
gut funktioniert:</p>

<ul>
<li>Redmine-VM starten</li>
<li>LDAP-VM starten</li>
<li>Browser: <a href="http://192.168.56.97">http://192.168.56.97</a> &ndash;> &ldquo;It works&rdquo;</li>
<li>Browser: <a href="http://192.168.56.97/redmine">http://192.168.56.97/redmine</a> &ndash;> Begrüssung von Redmine</li>
<li>Browser: <a href="http://192.168.56.97/redmine/issues/1">http://192.168.56.97/redmine/issues/1</a> &ndash;> Anmeldungseite wird angezeigt; Anmeldung funktioniert</li>
</ul>


<p>Soweit sieht alles ganz OK aus. Nun: Sichtung der Programmstände.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>ruby -v
</span><span class='line'>ruby 1.8.7 <span class="o">(</span>2010-01-10 patchlevel 249<span class="o">)</span> <span class="o">[</span>i486-linux<span class="o">]</span>
</span><span class='line'><span class="nv">$ </span>gem list&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;&lt;strong&gt;&lt;em&gt; LOCAL GEMS &lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;actionmailer <span class="o">(</span>2.3.17<span class="o">)</span>
</span><span class='line'>actionpack <span class="o">(</span>2.3.17<span class="o">)</span>
</span><span class='line'>activerecord <span class="o">(</span>2.3.17<span class="o">)</span>
</span><span class='line'>activeresource <span class="o">(</span>2.3.17<span class="o">)</span>
</span><span class='line'>activesupport <span class="o">(</span>2.3.17<span class="o">)</span>
</span><span class='line'>i18n <span class="o">(</span>0.4.2<span class="o">)</span>
</span><span class='line'>mysql <span class="o">(</span>2.8.1<span class="o">)</span>
</span><span class='line'>rack <span class="o">(</span>1.1.3<span class="o">)</span>
</span><span class='line'>rails <span class="o">(</span>2.3.17<span class="o">)</span>
</span><span class='line'>rake <span class="o">(</span>0.8.7<span class="o">)</span>
</span><span class='line'>rubygems-update <span class="o">(</span>1.6.2<span class="o">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>Ruby-Gems herunterladen und installieren</h2>

<p>Mit diesen Befehlen werden die Ruby-Gems heruntergeladen:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>gem fetch passenger&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;h1&gt;gem fetch passenger -v 4.0.10&lt;/h1&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;gem fetch daemon_controller -v &amp;ldquo;&gt;<span class="o">=</span> 1.1.0&amp;rdquo;&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;h1&gt;gem fetch daemon_controller -v 1.1.4&lt;/h1&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Die *.gem-Dateien müssen auf die Redmine-VM übertragen werden, am besten
mit <code>scp</code>. Danach spielt man sie ein mit</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>gem install passenger-4.0.10.gem
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>Apache-Modul installieren</h2>

<p>Mit nachfolgendem Befehl wird das Passenger-Modul für Apache2
installiert und auch gleich aktiviert:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>apt-get install libapache2-mod-passenger
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>Apache konfigurieren</h2>

<ul>
<li><p>Konfigurationsdatei kopieren und anpassen:
<code>cp /etc/apache2/sites-available/default /etc/apache2/sites-available/passenger</code></p>

<pre><code><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>/etc/apache2/sites-available/passenger </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;h1&gt;NameVirtualHost *:80&lt;/h1&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;&lt;VirtualHost *:80&gt;
</span><span class='line'>      ServerAdmin webmaster@localhost&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;  PassengerDefaultUser www-data
</span><span class='line'>  RailsEnv production
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;h1&gt;RailsBaseURI /redmine&lt;/h1&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;  DocumentRoot /srv/redmine-1.2.1/public/
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;h1&gt;DocumentRoot /var/www/&lt;/h1&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;  Alias /redmine &quot;/srv/redmine-1.2.1/public/&quot;
</span><span class='line'>  &amp;lt;Directory &quot;/srv/redmine-1.2.1/public/&quot;&amp;gt;
</span><span class='line'>   Options FollowSymLinks -MultiViews
</span><span class='line'>    AllowOverride none
</span><span class='line'>    Order allow,deny
</span><span class='line'>    allow from all
</span><span class='line'>  &amp;lt;/Directory&amp;gt;
</span><span class='line'>
</span><span class='line'>  ErrorLog /var/log/apache2/error.log
</span><span class='line'>
</span><span class='line'>  # Possible values include: debug, info, notice, warn, error, crit,
</span><span class='line'>  # alert, emerg.
</span><span class='line'>  LogLevel warn
</span><span class='line'>
</span><span class='line'>  CustomLog /var/log/apache2/access.log combined
</span><span class='line'>  ServerSignature On
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;&lt;/VirtualHost&gt;
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></li>
<li><p>Alte Datei &ldquo;abklemmen&rdquo;: <code>a2dissite default</code></p></li>
<li><p>Neue Datei aktivieren: <code>a2ensite passenger</code></p></li>
<li><p>Apache neu starten: <code>/etc/init.d/apache2 restart</code></p></li>
</ul>


<h2>Sichtung der Neu-Version</h2>

<p>Zunächst muß sichergestellt werden, dass die alte Version hinreichend
gut funktioniert:</p>

<ul>
<li>Redmine-VM starten (&hellip; läuft vermutlich eh' noch)</li>
<li>LDAP-VM starten (&hellip; läuft vermutlich eh' noch)</li>
<li>Browser: <a href="http://192.168.56.97">http://192.168.56.97</a>  &ndash;> Begrüssung von Redmine</li>
<li>Browser: <a href="http://192.168.56.97/redmine">http://192.168.56.97/redmine</a> &ndash;> Begrüssung von Redmine</li>
<li>Browser: <a href="http://192.168.56.97/redmine/issues/1">http://192.168.56.97/redmine/issues/1</a> &ndash;> Anmeldungseite wird angezeigt; Anmeldung funktioniert</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Octopress-Aktualisierung 1/2 - Grundtests]]></title>
    <link href="http://uli-heller.github.com/blog/2013/03/11/octopress-aktualisierung/"/>
    <updated>2013-03-11T08:00:00+01:00</updated>
    <id>http://uli-heller.github.com/blog/2013/03/11/octopress-aktualisierung</id>
    <content type="html"><![CDATA[<h1>Aktualisierung meiner Octopress-Installation (&frac12;)</h1>

<p>Vor grob 5 Monaten habe ich Octopress erstmalig aufgesetzt und seitdem die
Finger von den Aktualisierungen gelassen. Dadurch funktionieren in &ldquo;meiner&rdquo; Installation
nun gewisse Dinge nicht ganz so gut wir im Original. Beispielsweise soll die Verlinkung
von Blog-Posts im Original über einen Methodenaufruf funktionieren, bei meiner Variante
muß ich mir den Link mühsam zusammenklauben.</p>

<p>Erstmal möchte ich testen, ob die aktualisierte Version überhaupt funktioniert. Diese Tests
mache ich mit &ldquo;master&rdquo; und &ldquo;source-2.1&rdquo;.</p>

<!-- more -->


<h2>Aktuelle Octopress-Version runterladen</h2>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Octropress runterladen </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>git clone git://github.com/imathis/octopress.git octopress
</span><span class='line'><span class="nb">cd </span>octopress
</span><span class='line'>git branch -a
</span><span class='line'>  * master&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;remotes/origin/2.1
</span><span class='line'>remotes/origin/HEAD -&amp;gt; origin/master
</span><span class='line'>remotes/origin/colorize
</span><span class='line'>remotes/origin/gh-pages
</span><span class='line'>remotes/origin/guard
</span><span class='line'>remotes/origin/linklog
</span><span class='line'>remotes/origin/master
</span><span class='line'>remotes/origin/migrator
</span><span class='line'>remotes/origin/refactor_with_tests
</span><span class='line'>remotes/origin/rubygemcli
</span><span class='line'>remotes/origin/site
</span><span class='line'>remotes/origin/site-2.1
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>Kurztest Octopress-2.0</h2>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Kurztest Octropress-2.0 </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nb">cd </span>octopress
</span><span class='line'>gem install bundler
</span><span class='line'>bundle install
</span><span class='line'>rake install
</span><span class='line'>rake generate
</span><span class='line'>rake preview
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>&hellip; danach dann im Browser den Link <a href="http://localhost:4000">http://localhost:4000</a> öffnen &ndash; es
wird die Octopress-Grundseite angezeigt.</p>

<h2>Kurztest Octopress-2.1</h2>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Kurztest Octropress-2.1 &ndash; Mecker wegen JavaScript runtime </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nb">cd </span>octopress
</span><span class='line'>git checkout 2.1
</span><span class='line'>gem install bundler
</span><span class='line'>bundle install
</span><span class='line'>rake install
</span><span class='line'>  rake aborted!
</span><span class='line'>  Could not find a JavaScript runtime. See &lt;a <span class="nv">href</span><span class="o">=</span><span class="s2">&quot;https://github.com/sstephenson/execjs&quot;</span>&gt;https://github.com/sstephenson/execjs&lt;/a&gt; <span class="k">for </span>a list of available runtimes.
</span><span class='line'>  /home/uli/.rvm/gems/ruby-1.9.3-p327/gems/execjs-1.4.0/lib/execjs/runtimes.rb:51:in &lt;code&gt;autodetect<span class="s1">&#39;</span>
</span><span class='line'><span class="s1">  /home/uli/.rvm/gems/ruby-1.9.3-p327/gems/execjs-1.4.0/lib/execjs.rb:5:in&lt;/code&gt;&amp;lt;module:ExecJS&gt;&amp;lsquo;</span>
</span><span class='line'><span class="s1">  /home/uli/.rvm/gems/ruby-1.9.3-p327/gems/execjs-1.4.0/lib/execjs.rb:4:in &lt;code&gt;&amp;lt;top (required)&amp;gt;&#39;</span>
</span><span class='line'>  /home/uli/.rvm/gems/ruby-1.9.3-p327/gems/uglifier-1.2.6/lib/uglifier.rb:3:in&lt;/code&gt;require&amp;rsquo;
</span><span class='line'>  /home/uli/.rvm/gems/ruby-1.9.3-p327/gems/uglifier-1.2.6/lib/uglifier.rb:3:in &lt;code&gt;&amp;lt;top <span class="o">(</span>required<span class="o">)</span>&amp;gt;<span class="s1">&#39;</span>
</span><span class='line'><span class="s1">  /home/uli/tmp/o/octopress/lib/octopress/js_asset_manager.rb:4:in&lt;/code&gt;require&#39;</span>
</span><span class='line'>  /home/uli/tmp/o/octopress/lib/octopress/js_asset_manager.rb:4:in &lt;code&gt;&amp;lt;top <span class="o">(</span>required<span class="o">)</span>&amp;gt;<span class="s1">&#39;</span>
</span><span class='line'><span class="s1">  /home/uli/tmp/o/octopress/lib/octopress.rb:5:in&lt;/code&gt;require&#39;</span>
</span><span class='line'>  /home/uli/tmp/o/octopress/lib/octopress.rb:5:in &lt;code&gt;&amp;lt;top <span class="o">(</span>required<span class="o">)</span>&amp;gt;<span class="s1">&#39;</span>
</span><span class='line'><span class="s1">  /home/uli/tmp/o/octopress/Rakefile:9:in&lt;/code&gt;require&#39;</span>
</span><span class='line'>  /home/uli/tmp/o/octopress/Rakefile:9:in &lt;code&gt;&amp;lt;top <span class="o">(</span>required<span class="o">)</span>&amp;gt;<span class="s1">&#39;</span>
</span><span class='line'><span class="s1">  /home/uli/.rvm/gems/ruby-1.9.3-p327/bin/ruby_noexec_wrapper:14:in&lt;/code&gt;eval&#39;</span>
</span><span class='line'>  /home/uli/.rvm/gems/ruby-1.9.3-p327/bin/ruby_noexec_wrapper:14:in <span class="sb">`</span>&lt;main&gt;&amp;lsquo;
</span><span class='line'>  <span class="o">(</span>See full trace by running task with &amp;mdash;trace<span class="o">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>&hellip; funktioniert also nicht so richtig.</p>

<p>Am einfachsten korrigiert man&rsquo;s durch Anpassung vom Gemfile:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Anpassungen am Gemfile </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='diff'><span class='line'><span class="gh">diff &amp;mdash;git a/Gemfile b/Gemfile</span>
</span><span class='line'><span class="gu">@@ -15,6 +15,7 @@</span>
</span><span class='line'> group :development do
</span><span class='line'>   gem &amp;lsquo;tzinfo&amp;rsquo;, &amp;lsquo;~&gt; 0.3.35&amp;rsquo;
</span><span class='line'>   gem &amp;lsquo;stitch-rb&amp;rsquo;
</span><span class='line'>   gem &amp;lsquo;uglifier&amp;rsquo;
</span><span class='line'><span class="gi">+  gem &amp;lsquo;therubyracer&amp;rsquo;&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'>&lt;p&gt;   # Guard related
</span><span class='line'>   gem &amp;lsquo;guard&amp;rsquo;
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Danach dann <code>bundle install</code> und alles wird gut! Nach <code>rake install</code>, <code>rake generate</code>
und <code>rake preview</code> kann man wie üblich
im Browser den Link <a href="http://localhost:4000">http://localhost:4000</a> öffnen und es
wird die Octopress-Grundseite angezeigt.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Rails-2.3.17]]></title>
    <link href="http://uli-heller.github.com/blog/2013/02/14/redmine-rails-update/"/>
    <updated>2013-02-14T06:10:00+01:00</updated>
    <id>http://uli-heller.github.com/blog/2013/02/14/redmine-rails-update</id>
    <content type="html"><![CDATA[<h1>Rails-Update für Redmine-1.2</h1>

<p>Leider ist schon wieder eine <a href="http://www.heise.de/security/meldung/Neues-Sicherheits-Update-fuer-Ruby-on-Rails-1802557.html">Sicherheitslücke</a> in Rails
entdeckt worden.</p>

<p>Analog zur Aktualisierung auf 2.3.15 erfolgt nun die auf 2.3.17:</p>

<ul>
<li>Gems runterladen und auf Redmine-Rechner kopieren</li>
<li>Betriebssystem aktualisieren</li>
<li>Gems einspielen</li>
<li>Alte Gems löschen</li>
</ul>


<h2>Gems herunterladen und zum Redmine-Server übertragen</h2>

<p>Der Redmine-Server hat keinen Zugang zum Internet. Deshalb müssen die Gems
auf einem anderen Rechner heruntergeladen und zum Redmine-Server übertragen
werden.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span> (get-2.3.17.sh)</span> <a href='/downloads/code/get-2.3.17.sh'>download</a></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c">#!/bin/sh</span>
</span><span class='line'><span class="nv">VERSION</span><span class="o">=</span>2.3.17
</span><span class='line'>
</span><span class='line'>fetch<span class="o">()</span> <span class="o">{</span>
</span><span class='line'>  <span class="o">(</span>
</span><span class='line'>  <span class="nv">GN</span><span class="o">=</span><span class="s2">&quot;$1-$2.gem&quot;</span>
</span><span class='line'>  <span class="k">if</span> <span class="o">[</span> ! -s <span class="s2">&quot;${GN}&quot;</span> <span class="o">]</span>; <span class="k">then</span>
</span><span class='line'><span class="k">    </span>gem fetch <span class="s2">&quot;$1&quot;</span> -v <span class="s2">&quot;$2&quot;</span>
</span><span class='line'>  <span class="k">fi</span>
</span><span class='line'>  <span class="o">)</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">for </span>i in actionmailer actionpack activerecord activeresource activesupport rails; <span class="k">do</span>
</span><span class='line'><span class="k">  </span>fetch <span class="s2">&quot;${i}&quot;</span> <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'><span class="k">done</span>
</span><span class='line'>fetch rack 1.1.3
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Die Dateien werden danach mit SCP auf den Redmine-Server übertragen.</p>

<h2>Basissystem aktualisieren</h2>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Basissystem aktualisieren </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>apt-get update
</span><span class='line'>apt-get upgrade
</span><span class='line'>apt-get dist-upgrade
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>Gems einspielen</h2>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Gems einspielen </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>gem install rails-2.3.17.gem
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>Alte Gems deininstallieren</h2>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span> (uninstall-2.3.15.sh)</span> <a href='/downloads/code/uninstall-2.3.15.sh'>download</a></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c">#!/bin/sh</span>
</span><span class='line'><span class="nv">VERSION</span><span class="o">=</span>2.3.15
</span><span class='line'>
</span><span class='line'>gem uninstall rails -v <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'>gem uninstall actionmailer -v <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'>gem uninstall actionpack -v <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'>gem uninstall activerecord -v <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'>gem uninstall activeresource -v <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'>gem uninstall activesupport -v <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'><span class="c">#gem uninstall rack -v 1.1.1</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Rails-2.3.15]]></title>
    <link href="http://uli-heller.github.com/blog/2013/01/11/redmine-rails-update/"/>
    <updated>2013-01-11T07:00:00+01:00</updated>
    <id>http://uli-heller.github.com/blog/2013/01/11/redmine-rails-update</id>
    <content type="html"><![CDATA[<h1>Rails-Update für Redmine-1.2</h1>

<h2>Einleitung</h2>

<p>Auf einem etwas älteren Linux-Server betreibe ich eine fast genauso alte
<a href="http://redmine.org">Redmine</a>-Instanz. Redmine ist eine
<a href="http://rubyonrails.org">Rails</a>-Anwendung und
weil ich so eine alte Version davon verwende, ist die Rails-Version anfällig
gegen die diese Woche entdeckten kritischen
<a href="http://weblog.rubyonrails.org/2013/1/8/Rails-3-2-11-3-1-10-3-0-19-and-2-3-15-have-been-released/">Schwachstellen</a>.</p>

<p>Redmine selbst kann zur Zeit nicht auf die aktuelle Version 2.2 aktualisiert
werden, weil ich ältere, mit der neuen Version nicht verträgliche Plugins
verwende. Also heißt die Strategie: Redmine beibehalten, Rails aktualisieren
auf Version 2.3.15.</p>

<h2>Gems herunterladen und zum Redmine-Server übertragen</h2>

<p>Der Redmine-Server hat keinen Zugang zum Internet. Deshalb müssen die Gems
auf einem anderen Rechner heruntergeladen und zum Redmine-Server übertragen
werden.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span> (get-2.3.15.sh)</span> <a href='/downloads/code/get-2.3.15.sh'>download</a></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c">#!/bin/sh</span>
</span><span class='line'><span class="nv">VERSION</span><span class="o">=</span>2.3.15
</span><span class='line'>
</span><span class='line'>fetch<span class="o">()</span> <span class="o">{</span>
</span><span class='line'>  <span class="o">(</span>
</span><span class='line'>  <span class="nv">GN</span><span class="o">=</span><span class="s2">&quot;$1-$2.gem&quot;</span>
</span><span class='line'>  <span class="k">if</span> <span class="o">[</span> ! -s <span class="s2">&quot;${GN}&quot;</span> <span class="o">]</span>; <span class="k">then</span>
</span><span class='line'><span class="k">    </span>gem fetch <span class="s2">&quot;$1&quot;</span> -v <span class="s2">&quot;$2&quot;</span>
</span><span class='line'>  <span class="k">fi</span>
</span><span class='line'>  <span class="o">)</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">for </span>i in actionmailer actionpack activerecord activeresource activesupport rails; <span class="k">do</span>
</span><span class='line'><span class="k">  </span>fetch <span class="s2">&quot;${i}&quot;</span> <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'><span class="k">done</span>
</span><span class='line'>fetch rack 1.1.3
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Die Dateien werden danach mit SCP auf den Redmine-Server übertragen.</p>

<h2>Basissystem aktualisieren</h2>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Basissystem aktualisieren </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>apt-get update
</span><span class='line'>apt-get upgrade
</span><span class='line'>apt-get dist-upgrade
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>Gems einspielen</h2>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Gems einspielen </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>gem install rails-2.3.15.gem
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>Alte Gems deininstallieren</h2>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span> (uninstall-2.3.11.sh)</span> <a href='/downloads/code/uninstall-2.3.11.sh'>download</a></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c">#!/bin/sh</span>
</span><span class='line'><span class="nv">VERSION</span><span class="o">=</span>2.3.11
</span><span class='line'>
</span><span class='line'>gem uninstall rails -v <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'>gem uninstall actionmailer -v <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'>gem uninstall actionpack -v <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'>gem uninstall activerecord -v <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'>gem uninstall activeresource -v <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'>gem uninstall activesupport -v <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'>gem uninstall rack -v 1.1.1
</span></code></pre></td></tr></table></div></figure></notextile></div></p>
]]></content>
  </entry>
  
</feed>
