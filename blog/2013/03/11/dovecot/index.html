
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Dovecot-2.2 - DEB-Paket erzeugen - Was ich so treibe...</title>
  <meta name="author" content="Uli Heller">

  
  <meta name="description" content="Ubuntu-Pakete aktualisieren &ndash; Dovecot Heute soll eine neue Version von Dovecot erzeugt werden.
Grob geht&rsquo;s so: Quellen der &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://uli-heller.github.com/blog/2013/03/11/dovecot">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Was ich so treibe..." type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/libs/jquery.min.js"></script>
  <!--<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>-->
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<!--
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
-->
<link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Was ich so treibe...</a></h1>
  
    <h2>Uli's IT-Blog - Konzeption, Entwicklung, Betrieb</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="abonnieren per RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:uli-heller.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Suchen"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/archives/">Archiv</a></li>
  <li><a href="/categories/">Themen</a></li>
  <li><a href="/about/">Über mich</a></li>
  <li><a href="/impressum/">Impressum</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Dovecot-2.2 - DEB-Paket erzeugen</h1>
    
    
      <p class="meta">
        








  



  
<time datetime="2013-03-11T09:00:00+01:00" pubdate data-updated="true">11. March 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><h1>Ubuntu-Pakete aktualisieren &ndash; Dovecot</h1>

<p>Heute soll eine neue Version von Dovecot erzeugt werden.
Grob geht&rsquo;s so:</p>

<ul>
<li>Quellen der Standardversion von Ubuntu runterladen und kompilieren</li>
<li>Aktualisieren auf die gewünschte neue Version (2.2.rc2)</li>
<li>Neue Version kompilieren</li>
</ul>


<p>Mal sehen, ob&rsquo;s klappt wie vorgesehen!</p>

<!-- more -->


<h2>Standardversion von Ubuntu</h2>

<figure class='code'><figcaption><span>Standardversion herunterladen und bauen </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c"># Build-Verzeichnis anlegen und reinwechseln</span>
</span><span class='line'>mkdir -p /build/dovecot
</span><span class='line'><span class="nb">cd</span> /build/dovecot
</span><span class='line'><span class="c"># Quellen zum Ubuntu-Paket runterladen - 2.0.19-0ubuntu2</span>
</span><span class='line'>apt-get <span class="nb">source </span>dovecot
</span><span class='line'><span class="c"># Abhängigkeiten nachinstallieren</span>
</span><span class='line'>sudo apt-get build-dep dovecot
</span><span class='line'><span class="c"># Ubuntu-Paket erzeugen</span>
</span><span class='line'><span class="nb">cd </span>dovecot-2.0.19
</span><span class='line'>dpkg-buildpackage
</span><span class='line'><span class="c"># ... läuft hoffentlich ohne Probleme durch</span>
</span><span class='line'>quilt pop -a
</span></code></pre></td></tr></table></div></figure>


<h2>Aktualisierung auf 2.2.rc2</h2>

<figure class='code'><figcaption><span>Aktualisierung auf 2.2.rc2 </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c"># In Build-Verzeichnis reinwechseln</span>
</span><span class='line'><span class="nb">cd</span> /build/dovecot
</span><span class='line'><span class="c"># Quellen zu Dovecot-2.2.rc1 runterladen</span>
</span><span class='line'>wget http://syksy.dovecot.org/releases/2.2/rc/dovecot-2.2.rc2.tar.gz
</span><span class='line'><span class="c"># Erster Versuch...</span>
</span><span class='line'><span class="nb">cd </span>dovecot-2.0.19
</span><span class='line'>uupdate -u ../dovecot-2.2.rc2.tar.gz
</span><span class='line'><span class="c"># ... zeigt leider eine Fehlermeldung an:</span>
</span><span class='line'><span class="c">#   uupdate: new version number not recognized from given filename</span>
</span><span class='line'><span class="c">#   Please run uupdate with the -v option</span>
</span><span class='line'><span class="c"># Also nochmal...</span>
</span><span class='line'>uupdate -u ../dovecot-2.2.rc2.tar.gz -v 2.2.rc2
</span><span class='line'><span class="c"># OK, keine Fehlermeldung.</span>
</span><span class='line'><span class="c"># Wechseln in&#39;s neue Verzeichnis und dann debian/changelog anpassen</span>
</span><span class='line'><span class="nb">cd</span> ../dovecot-2.2.rc2
</span><span class='line'>jmacs debian/changelog <span class="c"># Details: Siehe nachfolgender DIFF</span>
</span><span class='line'><span class="c"># Ubuntu-Paket erzeugen</span>
</span><span class='line'>dpkg-buildpackage
</span><span class='line'><span class="c"># Mecker wg. fix-racey-restarts.patch</span>
</span><span class='line'><span class="c"># - Kein einziger Patch klappt</span>
</span><span class='line'><span class="c"># - Oft erscheint &#39;Reversed (or previously applied) patch detected!  Skipping patch.&#39;</span>
</span><span class='line'><span class="c"># -&gt; Wir blenden den Patch aus</span>
</span><span class='line'>quilt pop -a
</span><span class='line'>jmacs debian/patches/series <span class="c"># Details: Siehe nachfolgender DIFF</span>
</span><span class='line'><span class="c"># ... noch ein paar Iterationen wie zuvor</span>
</span><span class='line'>dpkg-buildpackage
</span><span class='line'><span class="c"># Scheitert nun ganz am Ende - pigeonhole passt nicht so richtig</span>
</span><span class='line'><span class="c"># ... wir versuchen&#39;s mit dovecot-2.1-pigeonhole-0.3.3.tar.gz</span>
</span><span class='line'><span class="c"># ... klappt auch nicht - gleicher Fehler!</span>
</span><span class='line'><span class="c"># ... dann halt mit dovecot-2.2-pigeonhole-tip</span>
</span><span class='line'><span class="c"># ... klappt besser, jetzt &quot;zickt&quot; noch DRAC</span>
</span><span class='line'><span class="c"># ... läßt sich auch leicht korrigieren</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>Änderungen an debian/changelog </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='diff'><span class='line'><span class="gh">diff -u debian/changelog~ debian/changelog</span>
</span><span class='line'><span class="gd">--- debian/changelog~    2013-03-11 09:09:19.000000000 +0100</span>
</span><span class='line'><span class="gi">+++ debian/changelog 2013-03-11 09:11:53.435109570 +0100</span>
</span><span class='line'><span class="gu">@@ -1,8 +1,8 @@</span>
</span><span class='line'><span class="gd">-dovecot (1:2.2.rc2-0ubuntu1) precise; urgency=low</span>
</span><span class='line'><span class="gi">+dovecot (1:2.2.rc2-0dp01~precise1) precise; urgency=low</span>
</span><span class='line'>
</span><span class='line'>   * New upstream release
</span><span class='line'>
</span><span class='line'><span class="gd">- -- Uli Heller &lt;uli@ubuntu1204.daemons-point.com&gt;  Mon, 11 Mar 2013 09:09:19 +0100</span>
</span><span class='line'><span class="gi">+ -- Uli Heller &lt;uli.heller@daemons-point.com&gt;  Mon, 11 Mar 2013 09:09:19 +0100</span>
</span><span class='line'>
</span><span class='line'> dovecot (1:2.0.19-0ubuntu2) precise-proposed; urgency=low
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>Änderungen an debian/patches/series </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='diff'><span class='line'><span class="gh">diff -u debian/patches/series~ debian/patches/series</span>
</span><span class='line'><span class="gd">--- debian/patches/series~   2012-06-28 23:34:08.000000000 +0200</span>
</span><span class='line'><span class="gi">+++ debian/patches/series    2013-03-11 09:18:30.167126242 +0100</span>
</span><span class='line'><span class="gu">@@ -2,5 +2,5 @@</span>
</span><span class='line'> dovecot-drac.patch
</span><span class='line'> split-protocols.patch
</span><span class='line'> fix-mail_plugin_dir-default.patch
</span><span class='line'><span class="gd">-fix-racey-restarts.patch</span>
</span><span class='line'><span class="gi">+#fix-racey-restarts.patch</span>
</span><span class='line'> bug-1018579.patch
</span></code></pre></td></tr></table></div></figure>


<h2>Pigeonhole</h2>

<p>Pigeonhole wird seperat von Dovecot entwickelt. Ich habe die neuen Versionen heruntergeladen von
<a href="http://pigeonhole.dovecot.org/">http://pigeonhole.dovecot.org/</a>.</p>

<p>Für die DEB-Erstellung muß dann noch ein Patch dafür erzeugt werden. Das geht am besten so:</p>

<ul>
<li>Temporäre Verzeichnisse anlegen: <code>mkdir -p tmp/a tmp/b</code></li>
<li>Wechseln in&rsquo;s Verzeichnis b: <code>cd tmp/b</code></li>
<li>Pigeonhole auspacken: <code>gzip -cd .../dovecot-2-2-pigeonhole-b75b00760b86.tar.gz|tar xf -</code></li>
<li>Verzeichnis umbenennen: <code>mv dove* pigeonhole</code></li>
<li>Patch erstellen: <code>cd ..; diff -Nur a b &gt;pigeonhole.patch</code></li>
</ul>


<h2>Diff</h2>

<figure class='code'><figcaption><span> (dovecot_20_22.diff)</span> <a href='/downloads/code/ubuntu/dovecot_20_22.diff'>download</a></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
</pre></td><td class='code'><pre><code class='diff'><span class='line'><span class="gh">diff -Nur dovecot-2.0.19/debian/changelog dovecot-2.2.rc2/debian/changelog</span>
</span><span class='line'><span class="gd">--- dovecot-2.0.19/debian/changelog  2012-06-28 23:38:39.000000000 +0200</span>
</span><span class='line'><span class="gi">+++ dovecot-2.2.rc2/debian/changelog 2013-03-11 09:23:35.000000000 +0100</span>
</span><span class='line'><span class="gu">@@ -1,3 +1,9 @@</span>
</span><span class='line'><span class="gi">+dovecot (1:2.2.rc2-0dp01~precise1) precise; urgency=low</span>
</span><span class='line'><span class="gi">+</span>
</span><span class='line'><span class="gi">+  * New upstream release</span>
</span><span class='line'><span class="gi">+</span>
</span><span class='line'><span class="gi">+ -- Uli Heller &lt;uli.heller@daemons-point.com&gt;  Mon, 11 Mar 2013 09:09:19 +0100</span>
</span><span class='line'><span class="gi">+</span>
</span><span class='line'> dovecot (1:2.0.19-0ubuntu2) precise-proposed; urgency=low
</span><span class='line'>
</span><span class='line'>   * Fix panic and core dump, cherry picked from upstream Mercurial.
</span><span class='line'><span class="gh">diff -Nur dovecot-2.0.19/debian/patches/dovecot-drac.patch dovecot-2.2.rc2/debian/patches/dovecot-drac.patch</span>
</span><span class='line'><span class="gd">--- dovecot-2.0.19/debian/patches/dovecot-drac.patch 2012-06-28 23:33:07.000000000 +0200</span>
</span><span class='line'><span class="gi">+++ dovecot-2.2.rc2/debian/patches/dovecot-drac.patch    2013-03-11 11:20:48.000000000 +0100</span>
</span><span class='line'><span class="gu">@@ -42,7 +42,7 @@</span>
</span><span class='line'> + *   http://dovecot.org/patches/1.1/drac.c
</span><span class='line'> + */
</span><span class='line'> +#include &quot;lib.h&quot;
</span><span class='line'><span class="gd">-+#include &quot;network.h&quot;</span>
</span><span class='line'><span class="gi">++#include &quot;net.h&quot;</span>
</span><span class='line'> +#include &quot;ioloop.h&quot;
</span><span class='line'> +#include &quot;mail-user.h&quot;
</span><span class='line'> +#include &quot;mail-storage-private.h&quot;
</span><span class='line'><span class="gh">diff -Nur dovecot-2.0.19/debian/patches/fix-mail_plugin_dir-default.patch dovecot-2.2.rc2/debian/patches/fix-mail_plugin_dir-default.patch</span>
</span><span class='line'><span class="gd">--- dovecot-2.0.19/debian/patches/fix-mail_plugin_dir-default.patch  2012-06-28 23:33:07.000000000 +0200</span>
</span><span class='line'><span class="gi">+++ dovecot-2.2.rc2/debian/patches/fix-mail_plugin_dir-default.patch 2013-03-11 10:55:09.000000000 +0100</span>
</span><span class='line'><span class="gu">@@ -8,11 +8,11 @@</span>
</span><span class='line'>  doc/example-config/conf.d/10-mail.conf |    2 +-
</span><span class='line'>  1 files changed, 1 insertions(+), 1 deletions(-)
</span><span class='line'>
</span><span class='line'><span class="gd">-diff --git a/doc/example-config/conf.d/10-mail.conf b/doc/example-config/conf.d/10-mail.conf</span>
</span><span class='line'><span class="gd">-index fe5cc31..4b918ed 100644</span>
</span><span class='line'><span class="gd">---- a/doc/example-config/conf.d/10-mail.conf</span>
</span><span class='line'><span class="gd">-+++ b/doc/example-config/conf.d/10-mail.conf</span>
</span><span class='line'><span class="gd">-@@ -200,7 +200,7 @@</span>
</span><span class='line'><span class="gi">+Index: dovecot-2.2.rc2/doc/example-config/conf.d/10-mail.conf</span>
</span><span class='line'><span class="gi">+===================================================================</span>
</span><span class='line'><span class="gi">+--- dovecot-2.2.rc2.orig/doc/example-config/conf.d/10-mail.conf 2013-02-22 12:20:04.000000000 +0100</span>
</span><span class='line'><span class="gi">++++ dovecot-2.2.rc2/doc/example-config/conf.d/10-mail.conf  2013-03-11 10:55:07.635357407 +0100</span>
</span><span class='line'><span class="gi">+@@ -201,7 +201,7 @@</span>
</span><span class='line'>  #auth_socket_path = /var/run/dovecot/auth-userdb
</span><span class='line'>
</span><span class='line'>  # Directory where to look up mail plugins.
</span><span class='line'><span class="gu">@@ -21,4 +21,3 @@</span>
</span><span class='line'>
</span><span class='line'>  # Space separated list of plugins to load for all services. Plugins specific to
</span><span class='line'>  # IMAP, LDA, etc. are added to this list in their own .conf files.
</span><span class='line'><span class="gd">--- </span>
</span><span class='line'><span class="gh">diff -Nur dovecot-2.0.19/debian/patches/pigeonhole.patch dovecot-2.2.rc2/debian/patches/pigeonhole.patch</span>
</span><span class='line'><span class="gd">--- dovecot-2.0.19/debian/patches/pigeonhole.patch   2012-06-28 23:33:07.000000000 +0200</span>
</span><span class='line'><span class="gi">+++ dovecot-2.2.rc2/debian/patches/pigeonhole.patch  2013-03-11 10:49:09.000000000 +0100</span>
</span><span class='line'>{not included}
</span><span class='line'><span class="gh">diff -Nur dovecot-2.0.19/debian/patches/series dovecot-2.2.rc2/debian/patches/series</span>
</span><span class='line'><span class="gd">--- dovecot-2.0.19/debian/patches/series 2012-06-28 23:34:08.000000000 +0200</span>
</span><span class='line'><span class="gi">+++ dovecot-2.2.rc2/debian/patches/series    2013-03-11 09:23:47.000000000 +0100</span>
</span><span class='line'><span class="gu">@@ -2,5 +2,5 @@</span>
</span><span class='line'> dovecot-drac.patch
</span><span class='line'> split-protocols.patch
</span><span class='line'> fix-mail_plugin_dir-default.patch
</span><span class='line'><span class="gd">-fix-racey-restarts.patch</span>
</span><span class='line'><span class="gd">-bug-1018579.patch</span>
</span><span class='line'><span class="gi">+#fix-racey-restarts.patch</span>
</span><span class='line'><span class="gi">+#bug-1018579.patch</span>
</span><span class='line'><span class="gh">diff -Nur dovecot-2.0.19/debian/patches/split-protocols.patch dovecot-2.2.rc2/debian/patches/split-protocols.patch</span>
</span><span class='line'><span class="gd">--- dovecot-2.0.19/debian/patches/split-protocols.patch  2012-06-28 23:33:07.000000000 +0200</span>
</span><span class='line'><span class="gi">+++ dovecot-2.2.rc2/debian/patches/split-protocols.patch 2013-03-11 10:55:06.000000000 +0100</span>
</span><span class='line'><span class="gu">@@ -12,11 +12,11 @@</span>
</span><span class='line'>  src/master/master-settings.c                       |    2 +-
</span><span class='line'>  4 files changed, 4 insertions(+), 7 deletions(-)
</span><span class='line'>
</span><span class='line'><span class="gd">-Index: dovecot/doc/example-config/dovecot.conf</span>
</span><span class='line'><span class="gi">+Index: dovecot-2.2.rc2/doc/example-config/dovecot.conf</span>
</span><span class='line'> ===================================================================
</span><span class='line'><span class="gd">---- dovecot.orig/doc/example-config/dovecot.conf    2012-03-07 08:19:52.000000000 -0500</span>
</span><span class='line'><span class="gd">-+++ dovecot/doc/example-config/dovecot.conf 2012-03-07 10:37:13.000000000 -0500</span>
</span><span class='line'><span class="gd">-@@ -16,8 +16,8 @@</span>
</span><span class='line'><span class="gi">+--- dovecot-2.2.rc2.orig/doc/example-config/dovecot.conf    2013-01-04 20:38:41.000000000 +0100</span>
</span><span class='line'><span class="gi">++++ dovecot-2.2.rc2/doc/example-config/dovecot.conf 2013-03-11 10:54:59.779357916 +0100</span>
</span><span class='line'><span class="gi">+@@ -20,8 +20,8 @@</span>
</span><span class='line'>  # options. The paths listed here are for configure --prefix=/usr
</span><span class='line'>  # --sysconfdir=/etc --localstatedir=/var
</span><span class='line'>
</span><span class='line'><span class="gu">@@ -27,10 +27,10 @@</span>
</span><span class='line'>
</span><span class='line'>  # A comma separated list of IPs or hosts where to listen in for connections.
</span><span class='line'>  # &quot;*&quot; listens in all IPv4 interfaces, &quot;::&quot; listens in all IPv6 interfaces.
</span><span class='line'><span class="gd">-Index: dovecot/pigeonhole/doc/example-config/conf.d/20-managesieve.conf</span>
</span><span class='line'><span class="gi">+Index: dovecot-2.2.rc2/pigeonhole/doc/example-config/conf.d/20-managesieve.conf</span>
</span><span class='line'> ===================================================================
</span><span class='line'><span class="gd">---- dovecot.orig/pigeonhole/doc/example-config/conf.d/20-managesieve.conf   2012-03-07 10:37:11.000000000 -0500</span>
</span><span class='line'><span class="gd">-+++ dovecot/pigeonhole/doc/example-config/conf.d/20-managesieve.conf    2012-03-07 10:37:13.000000000 -0500</span>
</span><span class='line'><span class="gi">+--- dovecot-2.2.rc2.orig/pigeonhole/doc/example-config/conf.d/20-managesieve.conf   2013-03-11 10:54:57.079337564 +0100</span>
</span><span class='line'><span class="gi">++++ dovecot-2.2.rc2/pigeonhole/doc/example-config/conf.d/20-managesieve.conf    2013-03-11 10:54:59.779357916 +0100</span>
</span><span class='line'> @@ -2,9 +2,6 @@
</span><span class='line'>  ## ManageSieve specific settings
</span><span class='line'>  ##
</span><span class='line'><span class="gu">@@ -40,12 +40,12 @@</span>
</span><span class='line'> -
</span><span class='line'>  # Service definitions
</span><span class='line'>
</span><span class='line'><span class="gd">- service managesieve-login {</span>
</span><span class='line'><span class="gd">-Index: dovecot/src/config/all-settings.c</span>
</span><span class='line'><span class="gi">+ #service managesieve-login {</span>
</span><span class='line'><span class="gi">+Index: dovecot-2.2.rc2/src/config/all-settings.c</span>
</span><span class='line'> ===================================================================
</span><span class='line'><span class="gd">---- dovecot.orig/src/config/all-settings.c  2012-03-07 08:19:52.000000000 -0500</span>
</span><span class='line'><span class="gd">-+++ dovecot/src/config/all-settings.c   2012-03-07 10:37:14.000000000 -0500</span>
</span><span class='line'><span class="gd">-@@ -1764,7 +1764,7 @@</span>
</span><span class='line'><span class="gi">+--- dovecot-2.2.rc2.orig/src/config/all-settings.c  2013-02-25 14:33:27.000000000 +0100</span>
</span><span class='line'><span class="gi">++++ dovecot-2.2.rc2/src/config/all-settings.c   2013-03-11 10:54:59.783357912 +0100</span>
</span><span class='line'><span class="gi">+@@ -2433,7 +2433,7 @@</span>
</span><span class='line'>      .libexec_dir = PKG_LIBEXECDIR,
</span><span class='line'>      .instance_name = PACKAGE,
</span><span class='line'>      .import_environment = &quot;TZ&quot; ENV_SYSTEMD ENV_GDB,
</span><span class='line'><span class="gu">@@ -54,11 +54,11 @@</span>
</span><span class='line'>      .listen = &quot;*, ::&quot;,
</span><span class='line'>      .ssl = &quot;yes:no:required&quot;,
</span><span class='line'>      .default_internal_user = &quot;dovecot&quot;,
</span><span class='line'><span class="gd">-Index: dovecot/src/master/master-settings.c</span>
</span><span class='line'><span class="gi">+Index: dovecot-2.2.rc2/src/master/master-settings.c</span>
</span><span class='line'> ===================================================================
</span><span class='line'><span class="gd">---- dovecot.orig/src/master/master-settings.c   2012-03-07 08:19:52.000000000 -0500</span>
</span><span class='line'><span class="gd">-+++ dovecot/src/master/master-settings.c    2012-03-07 10:37:14.000000000 -0500</span>
</span><span class='line'><span class="gd">-@@ -213,7 +213,7 @@</span>
</span><span class='line'><span class="gi">+--- dovecot-2.2.rc2.orig/src/master/master-settings.c   2013-02-18 05:47:18.000000000 +0100</span>
</span><span class='line'><span class="gi">++++ dovecot-2.2.rc2/src/master/master-settings.c    2013-03-11 10:54:59.783357912 +0100</span>
</span><span class='line'><span class="gi">+@@ -216,7 +216,7 @@</span>
</span><span class='line'>      .libexec_dir = PKG_LIBEXECDIR,
</span><span class='line'>      .instance_name = PACKAGE,
</span><span class='line'>      .import_environment = &quot;TZ&quot; ENV_SYSTEMD ENV_GDB,
</span><span class='line'><span class="gh">diff -Nur dovecot-2.0.19/debian/rules dovecot-2.2.rc2/debian/rules</span>
</span><span class='line'><span class="gd">--- dovecot-2.0.19/debian/rules  2012-06-28 23:33:07.000000000 +0200</span>
</span><span class='line'><span class="gi">+++ dovecot-2.2.rc2/debian/rules 2013-03-11 11:20:33.000000000 +0100</span>
</span><span class='line'><span class="gu">@@ -47,7 +47,7 @@</span>
</span><span class='line'>              --disable-static
</span><span class='line'>  $(MAKE) dovecot-config
</span><span class='line'>  # Pigeonhole
</span><span class='line'><span class="gd">-    (cd $(PIGEONHOLE_DIR)/ &amp;&amp; \</span>
</span><span class='line'><span class="gi">+    (cd $(PIGEONHOLE_DIR)/ &amp;&amp; sh ./autogen.sh \</span>
</span><span class='line'>      touch stamp.h.in &amp;&amp; \
</span><span class='line'>      $(shell dpkg-buildflags --export=configure) sh configure \
</span><span class='line'>      --with-dovecot=../ \
</span><span class='line'><span class="gu">@@ -105,7 +105,7 @@</span>
</span><span class='line'>  install -m644 debian/dovecot-core.ufw.profile debian/dovecot-core/etc/ufw/applications.d/dovecot-core
</span><span class='line'>  install -D -m 0755 -o root -g root $(CURDIR)/debian/maildirmake.dovecot $(CURDIR)/debian/dovecot-core/usr/bin/maildirmake.dovecot
</span><span class='line'>  mv $(CURDIR)/debian/dovecot-core/usr/share/doc/dovecot $(CURDIR)/debian/dovecot-core/usr/share/doc/dovecot-core
</span><span class='line'><span class="gd">-    cp $(PIGEONHOLE_DIR)/ChangeLog $(CURDIR)/debian/dovecot-core/usr/share/doc/dovecot-core/pigeonhole.ChangeLog</span>
</span><span class='line'><span class="gi">+    #cp $(PIGEONHOLE_DIR)/ChangeLog $(CURDIR)/debian/dovecot-core/usr/share/doc/dovecot-core/pigeonhole.ChangeLog</span>
</span><span class='line'>  cp $(PIGEONHOLE_DIR)/README $(CURDIR)/debian/dovecot-core/usr/share/doc/dovecot-core/pigeonhole.README
</span><span class='line'>  cp $(PIGEONHOLE_DIR)/NEWS $(CURDIR)/debian/dovecot-core/usr/share/doc/dovecot-core/pigeonhole.NEWS
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">von <span class="fn">Uli Heller</span></span>

      








  



  
<time datetime="2013-03-11T09:00:00+01:00" class="updated">Updated 11. March 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/linux/'>Linux</a>, <a class='category' href='/blog/categories/packaging/'>Packaging</a>, <a class='category' href='/blog/categories/ubuntu/'>Ubuntu</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/03/11/octopress-aktualisierung/" title="Voriger Beitrag: Octopress-Aktualisierung 1/2 - Grundtests">&laquo; Octopress-Aktualisierung 1/2 - Grundtests</a>
      
      
        <a class="basic-alignment right" href="/blog/2013/03/21/debian-changelog/" title="Nächster Beitrag: Neue Einträge für debian/changelog">Neue Einträge für debian/changelog &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Neueste Beiträge</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/02/15/subgit_2/">SubGit - Experimente mit Zweigen und Zusammenführungen</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/02/13/langsames-ssh/">Langsames SSH</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/02/11/subgit/">SubGit - Kopplung von Git und Subversion</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/10/grep/">GREP - Zeilen aus Umgebungsvariable ignorieren</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/09/persoenliche-git-zentrale/">Persönliche Git-Zentrale</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Themen</h1>
    <span id="tag-cloud"><a href='/blog/categories/blog' style='font-size: 104.6875%'>Blog(5)</a> <a href='/blog/categories/centos' style='font-size: 102.8125%'>CentOS(3)</a> <a href='/blog/categories/chrome' style='font-size: 101.875%'>Chrome(2)</a> <a href='/blog/categories/cinnamon' style='font-size: 100.9375%'>Cinnamon(1)</a> <a href='/blog/categories/debian' style='font-size: 101.875%'>Debian(2)</a> <a href='/blog/categories/dovecot' style='font-size: 101.875%'>Dovecot(2)</a> <a href='/blog/categories/eclipse' style='font-size: 101.875%'>Eclipse(2)</a> <a href='/blog/categories/fotorama' style='font-size: 101.875%'>Fotorama(2)</a> <a href='/blog/categories/git' style='font-size: 108.4375%'>Git(9)</a> <a href='/blog/categories/github' style='font-size: 100.9375%'>GitHub(1)</a> <a href='/blog/categories/gpg' style='font-size: 100.9375%'>GPG(1)</a> <a href='/blog/categories/gradle' style='font-size: 100.9375%'>Gradle(1)</a> <a href='/blog/categories/groovy' style='font-size: 100.9375%'>Groovy(1)</a> <a href='/blog/categories/grub' style='font-size: 100.9375%'>Grub(1)</a> <a href='/blog/categories/https' style='font-size: 100.9375%'>HTTPS(1)</a> <a href='/blog/categories/java' style='font-size: 104.6875%'>Java(5)</a> <a href='/blog/categories/jboss' style='font-size: 100.9375%'>JBoss(1)</a> <a href='/blog/categories/jdk' style='font-size: 100.9375%'>JDK(1)</a> <a href='/blog/categories/jmx' style='font-size: 100.9375%'>JMX(1)</a> <a href='/blog/categories/kepler' style='font-size: 100.9375%'>Kepler(1)</a> <a href='/blog/categories/kernel' style='font-size: 101.875%'>Kernel(2)</a> <a href='/blog/categories/ldap' style='font-size: 100.9375%'>LDAP(1)</a> <a href='/blog/categories/linux' style='font-size: 160.0%'>Linux(64)</a> <a href='/blog/categories/lucid' style='font-size: 103.75%'>Lucid(4)</a> <a href='/blog/categories/lxc' style='font-size: 105.625%'>Lxc(6)</a> <a href='/blog/categories/lxc' style='font-size: 100.9375%'>LXC(1)</a> <a href='/blog/categories/macbook-air' style='font-size: 101.875%'>Macbook Air(2)</a> <a href='/blog/categories/macbook-air-2013' style='font-size: 100.9375%'>Macbook Air 2013(1)</a> <a href='/blog/categories/markdown' style='font-size: 102.8125%'>Markdown(3)</a> <a href='/blog/categories/mysql' style='font-size: 100.9375%'>MySQL(1)</a> <a href='/blog/categories/octopress' style='font-size: 109.375%'>Octopress(10)</a> <a href='/blog/categories/openvpn' style='font-size: 100.9375%'>OpenVPN(1)</a> <a href='/blog/categories/packaging' style='font-size: 106.5625%'>Packaging(7)</a> <a href='/blog/categories/pakete' style='font-size: 100.9375%'>Pakete(1)</a> <a href='/blog/categories/passenger' style='font-size: 100.9375%'>Passenger(1)</a> <a href='/blog/categories/pdf' style='font-size: 100.9375%'>PDF(1)</a> <a href='/blog/categories/perl' style='font-size: 100.9375%'>Perl(1)</a> <a href='/blog/categories/pgp' style='font-size: 100.9375%'>PGP(1)</a> <a href='/blog/categories/pigdeonhole' style='font-size: 101.875%'>Pigdeonhole(2)</a> <a href='/blog/categories/podcast' style='font-size: 100.9375%'>Podcast(1)</a> <a href='/blog/categories/precise' style='font-size: 130.9375%'>Precise(33)</a> <a href='/blog/categories/proxy' style='font-size: 101.875%'>Proxy(2)</a> <a href='/blog/categories/quilt' style='font-size: 101.875%'>Quilt(2)</a> <a href='/blog/categories/raring' style='font-size: 101.875%'>Raring(2)</a> <a href='/blog/categories/redmine' style='font-size: 102.8125%'>Redmine(3)</a> <a href='/blog/categories/ruby' style='font-size: 106.5625%'>Ruby(7)</a> <a href='/blog/categories/server' style='font-size: 100.9375%'>Server(1)</a> <a href='/blog/categories/shell' style='font-size: 100.9375%'>Shell(1)</a> <a href='/blog/categories/smtp' style='font-size: 100.9375%'>SMTP(1)</a> <a href='/blog/categories/squid' style='font-size: 100.9375%'>Squid(1)</a> <a href='/blog/categories/ssh' style='font-size: 100.9375%'>SSH(1)</a> <a href='/blog/categories/subversion' style='font-size: 104.6875%'>Subversion(5)</a> <a href='/blog/categories/thunderbird' style='font-size: 100.9375%'>Thunderbird(1)</a> <a href='/blog/categories/truecrypt' style='font-size: 100.9375%'>Truecrypt(1)</a> <a href='/blog/categories/ubuntu' style='font-size: 148.75%'>Ubuntu(52)</a> <a href='/blog/categories/usb' style='font-size: 100.9375%'>USB(1)</a> <a href='/blog/categories/webservice' style='font-size: 100.9375%'>Webservice(1)</a> <a href='/blog/categories/windows' style='font-size: 100.9375%'>Windows(1)</a> <a href='/blog/categories/zertifikat' style='font-size: 100.9375%'>Zertifikat(1)</a> <a href='/blog/categories/zfs' style='font-size: 101.875%'>ZFS(2)</a> </span>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
<table>
  <tr>
    <td>
      <div class="license">
        <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.de">
          <img alt="Creative Commons Lizenzvertrag" style="border-width:0" src="/images/cc-by-sa-3.0_88x31.png" />
        </a>
      </div>
    </td>
    <td>
      <div>
        Copyright &copy; 2014 - Uli Heller -
        <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
        <br/>
        <span>
          Dieses Werk bzw. Inhalt steht unter einer <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.de">Creative Commons Namensnennung - Weitergabe unter gleichen Bedingungen 3.0 Unported Lizenz</a>
        </span>
      </div>
    </td>
  </tr>
<table>
</p>



</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'ulispersonalitblog';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://uli-heller.github.com/blog/2013/03/11/dovecot/';
        var disqus_url = 'http://uli-heller.github.com/blog/2013/03/11/dovecot/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
